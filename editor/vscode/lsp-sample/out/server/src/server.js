"use strict";var du=Object.create;var ns=Object.defineProperty;var hu=Object.getOwnPropertyDescriptor;var gu=Object.getOwnPropertyNames;var mu=Object.getPrototypeOf,pu=Object.prototype.hasOwnProperty;var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var vu=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of gu(t))!pu.call(e,i)&&i!==n&&ns(e,i,{get:()=>t[i],enumerable:!(r=hu(t,i))||r.enumerable});return e};var xr=(e,t,n)=>(n=e!=null?du(mu(e)):{},vu(t||!e||!e.__esModule?ns(n,"default",{value:e,enumerable:!0}):n,e));var Nn=D(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.thenable=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function yu(e){return e===!0||e===!1}ee.boolean=yu;function rs(e){return typeof e=="string"||e instanceof String}ee.string=rs;function _u(e){return typeof e=="number"||e instanceof Number}ee.number=_u;function bu(e){return e instanceof Error}ee.error=bu;function is(e){return typeof e=="function"}ee.func=is;function os(e){return Array.isArray(e)}ee.array=os;function Ru(e){return os(e)&&e.every(t=>rs(t))}ee.stringArray=Ru;function wu(e,t){return Array.isArray(e)&&e.every(t)}ee.typedArray=wu;function qu(e){return e&&is(e.then)}ee.thenable=qu});var Je=D(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});var Ar;function Lr(){if(Ar===void 0)throw new Error("No runtime abstraction layer installed");return Ar}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ar=n}e.install=t})(Lr||(Lr={}));Ir.default=Lr});var Wr=D(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.Disposable=void 0;var ku;(function(e){function t(n){return{dispose:n}}e.create=t})(ku=nn.Disposable||(nn.Disposable={}))});var ss=D(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.AbstractMessageBuffer=void 0;var Cu=13,Tu=10,Pu=`\r
`,Hr=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let g=this._chunks[n];r=0;t:for(;r<g.length;){switch(g[r]){case Cu:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Tu:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}i+=g.byteLength,n++}if(t!==4)return;let a=this._read(i+r),l=new Map,p=this.toString(a,"ascii").split(Pu);if(p.length<2)return l;for(let g=0;g<p.length-2;g++){let b=p[g],R=b.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");let T=b.substr(0,R),q=b.substr(R+1).trim();l.set(T,q)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],l=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,l}let n=this.allocNative(t),r=0,i=0;for(;t>0;){let a=this._chunks[i];if(a.byteLength>t){let l=a.slice(0,t);n.set(l,r),r+=t,this._chunks[i]=a.slice(t),this._totalLength-=t,t-=t}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return n}};jn.AbstractMessageBuffer=Hr});var us=D(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});var Su=Je(),as=require("util"),yt=Wr(),Eu=ss(),Ft=class extends Eu.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Ft.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new as.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};Ft.emptyBuffer=Buffer.allocUnsafe(0);var $r=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),yt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),yt.Disposable.create(()=>this.stream.off("data",t))}},zr=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),yt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),yt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),yt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,i)=>{let a=l=>{l==null?r():i(l)};typeof t=="string"?this.stream.write(t,n,a):this.stream.write(t,a)})}end(){this.stream.end()}},cs=Object.freeze({messageBuffer:Object.freeze({create:e=>new Ft(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new as.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new $r(e),asWritableStream:e=>new zr(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){return setTimeout(e,t,...n)},clearTimeout(e){clearTimeout(e)},setImmediate(e,...t){return setImmediate(e,...t)},clearImmediate(e){clearImmediate(e)}})});function Br(){return cs}(function(e){function t(){Su.default.install(cs)}e.install=t})(Br||(Br={}));Gr.default=Br});var xt=D(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.stringArray=he.array=he.func=he.error=he.number=he.string=he.boolean=void 0;function Du(e){return e===!0||e===!1}he.boolean=Du;function ls(e){return typeof e=="string"||e instanceof String}he.string=ls;function Ou(e){return typeof e=="number"||e instanceof Number}he.number=Ou;function Nu(e){return e instanceof Error}he.error=Nu;function ju(e){return typeof e=="function"}he.func=ju;function fs(e){return Array.isArray(e)}he.array=fs;function Mu(e){return fs(e)&&e.every(t=>ls(t))}he.stringArray=Mu});var gi=D(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.isResponseMessage=F.isNotificationMessage=F.isRequestMessage=F.NotificationType9=F.NotificationType8=F.NotificationType7=F.NotificationType6=F.NotificationType5=F.NotificationType4=F.NotificationType3=F.NotificationType2=F.NotificationType1=F.NotificationType0=F.NotificationType=F.RequestType9=F.RequestType8=F.RequestType7=F.RequestType6=F.RequestType5=F.RequestType4=F.RequestType3=F.RequestType2=F.RequestType1=F.RequestType=F.RequestType0=F.AbstractMessageSignature=F.ParameterStructures=F.ResponseError=F.ErrorCodes=void 0;var _t=xt(),ds;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd})(ds=F.ErrorCodes||(F.ErrorCodes={}));var rn=class extends Error{constructor(t,n,r){super(n),this.code=_t.number(t)?t:ds.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,rn.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};F.ResponseError=rn;var ae=class{constructor(t){this.kind=t}static is(t){return t===ae.auto||t===ae.byName||t===ae.byPosition}toString(){return this.kind}};F.ParameterStructures=ae;ae.auto=new ae("auto");ae.byPosition=new ae("byPosition");ae.byName=new ae("byName");var Z=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return ae.auto}};F.AbstractMessageSignature=Z;var Jr=class extends Z{constructor(t){super(t,0)}};F.RequestType0=Jr;var Ur=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.RequestType=Ur;var Xr=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.RequestType1=Xr;var Qr=class extends Z{constructor(t){super(t,2)}};F.RequestType2=Qr;var Yr=class extends Z{constructor(t){super(t,3)}};F.RequestType3=Yr;var Zr=class extends Z{constructor(t){super(t,4)}};F.RequestType4=Zr;var Kr=class extends Z{constructor(t){super(t,5)}};F.RequestType5=Kr;var Vr=class extends Z{constructor(t){super(t,6)}};F.RequestType6=Vr;var ei=class extends Z{constructor(t){super(t,7)}};F.RequestType7=ei;var ti=class extends Z{constructor(t){super(t,8)}};F.RequestType8=ti;var ni=class extends Z{constructor(t){super(t,9)}};F.RequestType9=ni;var ri=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.NotificationType=ri;var ii=class extends Z{constructor(t){super(t,0)}};F.NotificationType0=ii;var oi=class extends Z{constructor(t,n=ae.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};F.NotificationType1=oi;var si=class extends Z{constructor(t){super(t,2)}};F.NotificationType2=si;var ai=class extends Z{constructor(t){super(t,3)}};F.NotificationType3=ai;var ci=class extends Z{constructor(t){super(t,4)}};F.NotificationType4=ci;var ui=class extends Z{constructor(t){super(t,5)}};F.NotificationType5=ui;var li=class extends Z{constructor(t){super(t,6)}};F.NotificationType6=li;var fi=class extends Z{constructor(t){super(t,7)}};F.NotificationType7=fi;var di=class extends Z{constructor(t){super(t,8)}};F.NotificationType8=di;var hi=class extends Z{constructor(t){super(t,9)}};F.NotificationType9=hi;function Fu(e){let t=e;return t&&_t.string(t.method)&&(_t.string(t.id)||_t.number(t.id))}F.isRequestMessage=Fu;function xu(e){let t=e;return t&&_t.string(t.method)&&e.id===void 0}F.isNotificationMessage=xu;function Au(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(_t.string(t.id)||_t.number(t.id)||t.id===null)}F.isResponseMessage=Au});var Lt=D(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.Emitter=bt.Event=void 0;var Lu=Je(),Iu;(function(e){let t={dispose(){}};e.None=function(){return t}})(Iu=bt.Event||(bt.Event={}));var mi=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,l=r.length;a<l;a++)try{n.push(r[a].apply(i[a],t))}catch(p){Lu.default().console.error(p)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},At=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new mi),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,n),i.dispose=At._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};bt.Emitter=At;At._noop=function(){}});var _i=D(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.CancellationTokenSource=Rt.CancellationToken=void 0;var hs=Je(),Wu=xt(),pi=Lt(),vi;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:pi.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:pi.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||Wu.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(vi=Rt.CancellationToken||(Rt.CancellationToken={}));var Hu=Object.freeze(function(e,t){let n=hs.default().timer.setTimeout(e.bind(t),0);return{dispose(){hs.default().timer.clearTimeout(n)}}}),Mn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Hu:(this._emitter||(this._emitter=new pi.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},yi=class{get token(){return this._token||(this._token=new Mn),this._token}cancel(){this._token?this._token.cancel():this._token=vi.Cancelled}dispose(){this._token?this._token instanceof Mn&&this._token.dispose():this._token=vi.None}};Rt.CancellationTokenSource=yi});var gs=D(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.ReadableStreamMessageReader=Ue.AbstractMessageReader=Ue.MessageReader=void 0;var Fn=Je(),It=xt(),bi=Lt(),$u;(function(e){function t(n){let r=n;return r&&It.func(r.listen)&&It.func(r.dispose)&&It.func(r.onError)&&It.func(r.onClose)&&It.func(r.onPartialMessage)}e.is=t})($u=Ue.MessageReader||(Ue.MessageReader={}));var xn=class{constructor(){this.errorEmitter=new bi.Emitter,this.closeEmitter=new bi.Emitter,this.partialMessageEmitter=new bi.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${It.string(t.message)?t.message:"unknown"}`)}};Ue.AbstractMessageReader=xn;var Ri;(function(e){function t(n){var r;let i,a,l,p=new Map,g,b=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(l=n.contentDecoder,p.set(l.name,l)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)p.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(g=n.contentTypeDecoder,b.set(g.name,g)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)b.set(R.name,R)}return g===void 0&&(g=Fn.default().applicationJson.decoder,b.set(g.name,g)),{charset:i,contentDecoder:l,contentDecoders:p,contentTypeDecoder:g,contentTypeDecoders:b}}e.fromOptions=t})(Ri||(Ri={}));var wi=class extends xn{constructor(t,n){super(),this.readable=t,this.options=Ri.fromOptions(n),this.buffer=Fn.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let a=i.get("Content-Length");if(!a)throw new Error("Header must provide a Content-Length property.");let l=parseInt(a);if(isNaN(l))throw new Error("Content-Length value must be a number.");this.nextMessageLength=l}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(a=>{this.callback(a)},a=>{this.fireError(a)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Fn.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Fn.default().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ue.ReadableStreamMessageReader=wi});var ms=D(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.Semaphore=void 0;var zu=Je(),qi=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||zu.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};An.Semaphore=qi});var _s=D(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.WriteableStreamMessageWriter=Xe.AbstractMessageWriter=Xe.MessageWriter=void 0;var ps=Je(),on=xt(),Bu=ms(),vs=Lt(),Gu="Content-Length: ",ys=`\r
`,Ju;(function(e){function t(n){let r=n;return r&&on.func(r.dispose)&&on.func(r.onClose)&&on.func(r.onError)&&on.func(r.write)}e.is=t})(Ju=Xe.MessageWriter||(Xe.MessageWriter={}));var Ln=class{constructor(){this.errorEmitter=new vs.Emitter,this.closeEmitter=new vs.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${on.string(t.message)?t.message:"unknown"}`)}};Xe.AbstractMessageWriter=Ln;var ki;(function(e){function t(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:ps.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:ps.default().applicationJson.encoder}}e.fromOptions=t})(ki||(ki={}));var Ci=class extends Ln{constructor(t,n){super(),this.writable=t,this.options=ki.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Bu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Gu,r.byteLength.toString(),ys),i.push(ys),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};Xe.WriteableStreamMessageWriter=Ci});var bs=D(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.LRUCache=Qe.LinkedMap=Qe.Touch=void 0;var me;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(me=Qe.Touch||(Qe.Touch={}));var In=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)===null||t===void 0?void 0:t.value}get last(){var t;return(t=this._tail)===null||t===void 0?void 0:t.value}has(t){return this._map.has(t)}get(t,n=me.None){let r=this._map.get(t);if(!!r)return n!==me.None&&this.touch(r,n),r.value}set(t,n,r=me.None){let i=this._map.get(t);if(i)i.value=n,r!==me.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case me.None:this.addItemLast(i);break;case me.First:this.addItemFirst(i);break;case me.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(!!n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.key,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}values(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:r.value,done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}entries(){let t=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let a={value:[r.key,r.value],done:!1};return r=r.next,a}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==me.First&&n!==me.Last)){if(n===me.First){if(t===this._head)return;let r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===me.Last){if(t===this._tail)return;let r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};Qe.LinkedMap=In;var Ti=class extends In{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=me.AsNew){return super.get(t,n)}peek(t){return super.get(t,me.None)}set(t,n){return super.set(t,n,me.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Qe.LRUCache=Ti});var Cs=D(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.createMessageConnection=I.ConnectionOptions=I.CancellationStrategy=I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.Trace=I.NullLogger=I.ProgressType=void 0;var Rs=Je(),ce=xt(),L=gi(),ws=bs(),sn=Lt(),Pi=_i(),an;(function(e){e.type=new L.NotificationType("$/cancelRequest")})(an||(an={}));var Hn;(function(e){e.type=new L.NotificationType("$/progress")})(Hn||(Hn={}));var Si=class{constructor(){}};I.ProgressType=Si;var Ei;(function(e){function t(n){return ce.func(n)}e.is=t})(Ei||(Ei={}));I.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var te;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(te=I.Trace||(I.Trace={}));(function(e){function t(r){if(!ce.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(te=I.Trace||(I.Trace={}));var je;(function(e){e.Text="text",e.JSON="json"})(je=I.TraceFormat||(I.TraceFormat={}));(function(e){function t(n){return n=n.toLowerCase(),n==="json"?e.JSON:e.Text}e.fromString=t})(je=I.TraceFormat||(I.TraceFormat={}));var qs;(function(e){e.type=new L.NotificationType("$/setTrace")})(qs=I.SetTraceNotification||(I.SetTraceNotification={}));var Di;(function(e){e.type=new L.NotificationType("$/logTrace")})(Di=I.LogTraceNotification||(I.LogTraceNotification={}));var Wn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Wn=I.ConnectionErrors||(I.ConnectionErrors={}));var rt=class extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,rt.prototype)}};I.ConnectionError=rt;var ks;(function(e){function t(n){let r=n;return r&&ce.func(r.cancelUndispatched)}e.is=t})(ks=I.ConnectionStrategy||(I.ConnectionStrategy={}));var Oi;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new Pi.CancellationTokenSource}});function t(n){let r=n;return r&&ce.func(r.createCancellationTokenSource)}e.is=t})(Oi=I.CancellationReceiverStrategy||(I.CancellationReceiverStrategy={}));var Ni;(function(e){e.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(an.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&ce.func(r.sendCancellation)&&ce.func(r.cleanup)}e.is=t})(Ni=I.CancellationSenderStrategy||(I.CancellationSenderStrategy={}));var ji;(function(e){e.Message=Object.freeze({receiver:Oi.Message,sender:Ni.Message});function t(n){let r=n;return r&&Oi.is(r.receiver)&&Ni.is(r.sender)}e.is=t})(ji=I.CancellationStrategy||(I.CancellationStrategy={}));var Uu;(function(e){function t(n){let r=n;return r&&(ji.is(r.cancellationStrategy)||ks.is(r.connectionStrategy))}e.is=t})(Uu=I.ConnectionOptions||(I.ConnectionOptions={}));var Me;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Me||(Me={}));function Xu(e,t,n,r){let i=n!==void 0?n:I.NullLogger,a=0,l=0,p=0,g="2.0",b,R=Object.create(null),T,q=Object.create(null),P=new Map,S,j=new ws.LinkedMap,M=Object.create(null),y=Object.create(null),v=te.Off,k=je.Text,O,A=Me.New,oe=new sn.Emitter,we=new sn.Emitter,ge=new sn.Emitter,de=new sn.Emitter,Te=new sn.Emitter,Ne=r&&r.cancellationStrategy?r.cancellationStrategy:ji.Message;function Ie(h){if(h===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+h.toString()}function We(h){return h===null?"res-unknown-"+(++p).toString():"res-"+h.toString()}function Vt(){return"not-"+(++l).toString()}function gt(h,f){L.isRequestMessage(f)?h.set(Ie(f.id),f):L.isResponseMessage(f)?h.set(We(f.id),f):h.set(Vt(),f)}function Dt(h){}function Ve(){return A===Me.Listening}function Ot(){return A===Me.Closed}function ye(){return A===Me.Disposed}function et(){(A===Me.New||A===Me.Listening)&&(A=Me.Closed,we.fire(void 0))}function Nt(h){oe.fire([h,void 0,void 0])}function mt(h){oe.fire(h)}e.onClose(et),e.onError(Nt),t.onClose(et),t.onError(mt);function Pn(){S||j.size===0||(S=Rs.default().timer.setImmediate(()=>{S=void 0,kr()}))}function kr(){if(j.size===0)return;let h=j.shift();try{L.isRequestMessage(h)?Tr(h):L.isNotificationMessage(h)?en(h):L.isResponseMessage(h)?Pr(h):Sr(h)}finally{Pn()}}let Cr=h=>{try{if(L.isNotificationMessage(h)&&h.method===an.type.method){let f=Ie(h.params.id),s=j.get(f);if(L.isRequestMessage(s)){let d=r?.connectionStrategy,m=d&&d.cancelUndispatched?d.cancelUndispatched(s,Dt):void 0;if(m&&(m.error!==void 0||m.result!==void 0)){j.delete(f),m.id=s.id,jt(m,h.method,Date.now()),t.write(m);return}}}gt(j,h)}finally{Pn()}};function Tr(h){if(ye())return;function f(w,N,x){let $={jsonrpc:g,id:h.id};w instanceof L.ResponseError?$.error=w.toJson():$.result=w===void 0?null:w,jt($,N,x),t.write($)}function s(w,N,x){let $={jsonrpc:g,id:h.id,error:w.toJson()};jt($,N,x),t.write($)}function d(w,N,x){w===void 0&&(w=null);let $={jsonrpc:g,id:h.id,result:w};jt($,N,x),t.write($)}Or(h);let m=R[h.method],c,o;m&&(c=m.type,o=m.handler);let _=Date.now();if(o||b){let w=String(h.id),N=Ne.receiver.createCancellationTokenSource(w);y[w]=N;try{let x;if(o)if(h.params===void 0){if(c!==void 0&&c.numberOfParams!==0){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${h.method} defines ${c.numberOfParams} params but recevied none.`),h.method,_);return}x=o(N.token)}else if(Array.isArray(h.params)){if(c!==void 0&&c.parameterStructures===L.ParameterStructures.byName){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${h.method} defines parameters by name but received parameters by position`),h.method,_);return}x=o(...h.params,N.token)}else{if(c!==void 0&&c.parameterStructures===L.ParameterStructures.byPosition){s(new L.ResponseError(L.ErrorCodes.InvalidParams,`Request ${h.method} defines parameters by position but received parameters by name`),h.method,_);return}x=o(h.params,N.token)}else b&&(x=b(h.method,h.params,N.token));let $=x;x?$.then?$.then(Y=>{delete y[w],f(Y,h.method,_)},Y=>{delete y[w],Y instanceof L.ResponseError?s(Y,h.method,_):Y&&ce.string(Y.message)?s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${Y.message}`),h.method,_):s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,_)}):(delete y[w],f(x,h.method,_)):(delete y[w],d(x,h.method,_))}catch(x){delete y[w],x instanceof L.ResponseError?f(x,h.method,_):x&&ce.string(x.message)?s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${h.method} failed with message: ${x.message}`),h.method,_):s(new L.ResponseError(L.ErrorCodes.InternalError,`Request ${h.method} failed unexpectedly without providing any details.`),h.method,_)}}else s(new L.ResponseError(L.ErrorCodes.MethodNotFound,`Unhandled method ${h.method}`),h.method,_)}function Pr(h){if(!ye())if(h.id===null)h.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(h.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let f=String(h.id),s=M[f];if(jr(h,s),s){delete M[f];try{if(h.error){let d=h.error;s.reject(new L.ResponseError(d.code,d.message,d.data))}else if(h.result!==void 0)s.resolve(h.result);else throw new Error("Should never happen.")}catch(d){d.message?i.error(`Response handler '${s.method}' failed with message: ${d.message}`):i.error(`Response handler '${s.method}' failed unexpectedly.`)}}}}function en(h){if(ye())return;let f,s;if(h.method===an.type.method)s=d=>{let m=d.id,c=y[String(m)];c&&c.cancel()};else{let d=q[h.method];d&&(s=d.handler,f=d.type)}if(s||T)try{Nr(h),s?h.params===void 0?(f!==void 0&&f.numberOfParams!==0&&f.parameterStructures!==L.ParameterStructures.byName&&i.error(`Notification ${h.method} defines ${f.numberOfParams} params but recevied none.`),s()):Array.isArray(h.params)?(f!==void 0&&(f.parameterStructures===L.ParameterStructures.byName&&i.error(`Notification ${h.method} defines parameters by name but received parameters by position`),f.numberOfParams!==h.params.length&&i.error(`Notification ${h.method} defines ${f.numberOfParams} params but received ${h.params.length} argumennts`)),s(...h.params)):(f!==void 0&&f.parameterStructures===L.ParameterStructures.byPosition&&i.error(`Notification ${h.method} defines parameters by position but received parameters by name`),s(h.params)):T&&T(h.method,h.params)}catch(d){d.message?i.error(`Notification handler '${h.method}' failed with message: ${d.message}`):i.error(`Notification handler '${h.method}' failed unexpectedly.`)}else ge.fire(h)}function Sr(h){if(!h){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(h,null,4)}`);let f=h;if(ce.string(f.id)||ce.number(f.id)){let s=String(f.id),d=M[s];d&&d.reject(new Error("The received response has neither a result nor an error property."))}}function Er(h){if(!(v===te.Off||!O))if(k===je.Text){let f;v===te.Verbose&&h.params&&(f=`Params: ${JSON.stringify(h.params,null,4)}

`),O.log(`Sending request '${h.method} - (${h.id})'.`,f)}else tt("send-request",h)}function Dr(h){if(!(v===te.Off||!O))if(k===je.Text){let f;v===te.Verbose&&(h.params?f=`Params: ${JSON.stringify(h.params,null,4)}

`:f=`No parameters provided.

`),O.log(`Sending notification '${h.method}'.`,f)}else tt("send-notification",h)}function jt(h,f,s){if(!(v===te.Off||!O))if(k===je.Text){let d;v===te.Verbose&&(h.error&&h.error.data?d=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?d=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(d=`No result returned.

`)),O.log(`Sending response '${f} - (${h.id})'. Processing request took ${Date.now()-s}ms`,d)}else tt("send-response",h)}function Or(h){if(!(v===te.Off||!O))if(k===je.Text){let f;v===te.Verbose&&h.params&&(f=`Params: ${JSON.stringify(h.params,null,4)}

`),O.log(`Received request '${h.method} - (${h.id})'.`,f)}else tt("receive-request",h)}function Nr(h){if(!(v===te.Off||!O||h.method===Di.type.method))if(k===je.Text){let f;v===te.Verbose&&(h.params?f=`Params: ${JSON.stringify(h.params,null,4)}

`:f=`No parameters provided.

`),O.log(`Received notification '${h.method}'.`,f)}else tt("receive-notification",h)}function jr(h,f){if(!(v===te.Off||!O))if(k===je.Text){let s;if(v===te.Verbose&&(h.error&&h.error.data?s=`Error data: ${JSON.stringify(h.error.data,null,4)}

`:h.result?s=`Result: ${JSON.stringify(h.result,null,4)}

`:h.error===void 0&&(s=`No result returned.

`)),f){let d=h.error?` Request failed: ${h.error.message} (${h.error.code}).`:"";O.log(`Received response '${f.method} - (${h.id})' in ${Date.now()-f.timerStart}ms.${d}`,s)}else O.log(`Received response ${h.id} without active response promise.`,s)}else tt("receive-response",h)}function tt(h,f){if(!O||v===te.Off)return;let s={isLSPMessage:!0,type:h,message:f,timestamp:Date.now()};O.log(s)}function pt(){if(Ot())throw new rt(Wn.Closed,"Connection is closed.");if(ye())throw new rt(Wn.Disposed,"Connection is disposed.")}function Mr(){if(Ve())throw new rt(Wn.AlreadyListening,"Connection is already listening")}function Fr(){if(!Ve())throw new Error("Call listen() first.")}function vt(h){return h===void 0?null:h}function Sn(h){if(h!==null)return h}function En(h){return h!=null&&!Array.isArray(h)&&typeof h=="object"}function tn(h,f){switch(h){case L.ParameterStructures.auto:return En(f)?Sn(f):[vt(f)];case L.ParameterStructures.byName:if(!En(f))throw new Error("Recevied parameters by name but param is not an object literal.");return Sn(f);case L.ParameterStructures.byPosition:return[vt(f)];default:throw new Error(`Unknown parameter structure ${h.toString()}`)}}function Dn(h,f){let s,d=h.numberOfParams;switch(d){case 0:s=void 0;break;case 1:s=tn(h.parameterStructures,f[0]);break;default:s=[];for(let m=0;m<f.length&&m<d;m++)s.push(vt(f[m]));if(f.length<d)for(let m=f.length;m<d;m++)s.push(null);break}return s}let nt={sendNotification:(h,...f)=>{pt();let s,d;if(ce.string(h)){s=h;let c=f[0],o=0,_=L.ParameterStructures.auto;L.ParameterStructures.is(c)&&(o=1,_=c);let w=f.length,N=w-o;switch(N){case 0:d=void 0;break;case 1:d=tn(_,f[o]);break;default:if(_===L.ParameterStructures.byName)throw new Error(`Recevied ${N} parameters for 'by Name' notification parameter structure.`);d=f.slice(o,w).map(x=>vt(x));break}}else{let c=f;s=h.method,d=Dn(h,c)}let m={jsonrpc:g,method:s,params:d};Dr(m),t.write(m)},onNotification:(h,f)=>{pt();let s;return ce.func(h)?T=h:f&&(ce.string(h)?(s=h,q[h]={type:void 0,handler:f}):(s=h.method,q[h.method]={type:h,handler:f})),{dispose:()=>{s!==void 0?delete q[s]:T=void 0}}},onProgress:(h,f,s)=>{if(P.has(f))throw new Error(`Progress handler for token ${f} already registered`);return P.set(f,s),{dispose:()=>{P.delete(f)}}},sendProgress:(h,f,s)=>{nt.sendNotification(Hn.type,{token:f,value:s})},onUnhandledProgress:de.event,sendRequest:(h,...f)=>{pt(),Fr();let s,d,m;if(ce.string(h)){s=h;let w=f[0],N=f[f.length-1],x=0,$=L.ParameterStructures.auto;L.ParameterStructures.is(w)&&(x=1,$=w);let Y=f.length;Pi.CancellationToken.is(N)&&(Y=Y-1,m=N);let re=Y-x;switch(re){case 0:d=void 0;break;case 1:d=tn($,f[x]);break;default:if($===L.ParameterStructures.byName)throw new Error(`Recevied ${re} parameters for 'by Name' request parameter structure.`);d=f.slice(x,Y).map(se=>vt(se));break}}else{let w=f;s=h.method,d=Dn(h,w);let N=h.numberOfParams;m=Pi.CancellationToken.is(w[N])?w[N]:void 0}let c=a++,o;return m&&(o=m.onCancellationRequested(()=>{Ne.sender.sendCancellation(nt,c)})),new Promise((w,N)=>{let x={jsonrpc:g,id:c,method:s,params:d},$=se=>{w(se),Ne.sender.cleanup(c),o?.dispose()},Y=se=>{N(se),Ne.sender.cleanup(c),o?.dispose()},re={method:s,timerStart:Date.now(),resolve:$,reject:Y};Er(x);try{t.write(x)}catch(se){re.reject(new L.ResponseError(L.ErrorCodes.MessageWriteError,se.message?se.message:"Unknown reason")),re=null}re&&(M[String(c)]=re)})},onRequest:(h,f)=>{pt();let s=null;return Ei.is(h)?(s=void 0,b=h):ce.string(h)?(s=null,f!==void 0&&(s=h,R[h]={handler:f,type:void 0})):f!==void 0&&(s=h.method,R[h.method]={type:h,handler:f}),{dispose:()=>{s!==null&&(s!==void 0?delete R[s]:b=void 0)}}},trace:(h,f,s)=>{let d=!1,m=je.Text;s!==void 0&&(ce.boolean(s)?d=s:(d=s.sendNotification||!1,m=s.traceFormat||je.Text)),v=h,k=m,v===te.Off?O=void 0:O=f,d&&!Ot()&&!ye()&&nt.sendNotification(qs.type,{value:te.toString(h)})},onError:oe.event,onClose:we.event,onUnhandledNotification:ge.event,onDispose:Te.event,end:()=>{t.end()},dispose:()=>{if(ye())return;A=Me.Disposed,Te.fire(void 0);let h=new Error("Connection got disposed.");Object.keys(M).forEach(f=>{M[f].reject(h)}),M=Object.create(null),y=Object.create(null),j=new ws.LinkedMap,ce.func(t.dispose)&&t.dispose(),ce.func(e.dispose)&&e.dispose()},listen:()=>{pt(),Mr(),A=Me.Listening,e.listen(Cr)},inspect:()=>{Rs.default().console.log("inspect")}};return nt.onNotification(Di.type,h=>{v===te.Off||!O||O.log(h.message,v===te.Verbose?h.verbose:void 0)}),nt.onNotification(Hn.type,h=>{let f=P.get(h.token);f?f(h.value):de.fire(h)}),nt}I.createMessageConnection=Xu});var xi=D(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.CancellationSenderStrategy=C.CancellationReceiverStrategy=C.ConnectionError=C.ConnectionErrors=C.LogTraceNotification=C.SetTraceNotification=C.TraceFormat=C.Trace=C.ProgressType=C.createMessageConnection=C.NullLogger=C.ConnectionOptions=C.ConnectionStrategy=C.WriteableStreamMessageWriter=C.AbstractMessageWriter=C.MessageWriter=C.ReadableStreamMessageReader=C.AbstractMessageReader=C.MessageReader=C.CancellationToken=C.CancellationTokenSource=C.Emitter=C.Event=C.Disposable=C.ParameterStructures=C.NotificationType9=C.NotificationType8=C.NotificationType7=C.NotificationType6=C.NotificationType5=C.NotificationType4=C.NotificationType3=C.NotificationType2=C.NotificationType1=C.NotificationType0=C.NotificationType=C.ErrorCodes=C.ResponseError=C.RequestType9=C.RequestType8=C.RequestType7=C.RequestType6=C.RequestType5=C.RequestType4=C.RequestType3=C.RequestType2=C.RequestType1=C.RequestType0=C.RequestType=C.RAL=void 0;C.CancellationStrategy=void 0;var K=gi();Object.defineProperty(C,"RequestType",{enumerable:!0,get:function(){return K.RequestType}});Object.defineProperty(C,"RequestType0",{enumerable:!0,get:function(){return K.RequestType0}});Object.defineProperty(C,"RequestType1",{enumerable:!0,get:function(){return K.RequestType1}});Object.defineProperty(C,"RequestType2",{enumerable:!0,get:function(){return K.RequestType2}});Object.defineProperty(C,"RequestType3",{enumerable:!0,get:function(){return K.RequestType3}});Object.defineProperty(C,"RequestType4",{enumerable:!0,get:function(){return K.RequestType4}});Object.defineProperty(C,"RequestType5",{enumerable:!0,get:function(){return K.RequestType5}});Object.defineProperty(C,"RequestType6",{enumerable:!0,get:function(){return K.RequestType6}});Object.defineProperty(C,"RequestType7",{enumerable:!0,get:function(){return K.RequestType7}});Object.defineProperty(C,"RequestType8",{enumerable:!0,get:function(){return K.RequestType8}});Object.defineProperty(C,"RequestType9",{enumerable:!0,get:function(){return K.RequestType9}});Object.defineProperty(C,"ResponseError",{enumerable:!0,get:function(){return K.ResponseError}});Object.defineProperty(C,"ErrorCodes",{enumerable:!0,get:function(){return K.ErrorCodes}});Object.defineProperty(C,"NotificationType",{enumerable:!0,get:function(){return K.NotificationType}});Object.defineProperty(C,"NotificationType0",{enumerable:!0,get:function(){return K.NotificationType0}});Object.defineProperty(C,"NotificationType1",{enumerable:!0,get:function(){return K.NotificationType1}});Object.defineProperty(C,"NotificationType2",{enumerable:!0,get:function(){return K.NotificationType2}});Object.defineProperty(C,"NotificationType3",{enumerable:!0,get:function(){return K.NotificationType3}});Object.defineProperty(C,"NotificationType4",{enumerable:!0,get:function(){return K.NotificationType4}});Object.defineProperty(C,"NotificationType5",{enumerable:!0,get:function(){return K.NotificationType5}});Object.defineProperty(C,"NotificationType6",{enumerable:!0,get:function(){return K.NotificationType6}});Object.defineProperty(C,"NotificationType7",{enumerable:!0,get:function(){return K.NotificationType7}});Object.defineProperty(C,"NotificationType8",{enumerable:!0,get:function(){return K.NotificationType8}});Object.defineProperty(C,"NotificationType9",{enumerable:!0,get:function(){return K.NotificationType9}});Object.defineProperty(C,"ParameterStructures",{enumerable:!0,get:function(){return K.ParameterStructures}});var Qu=Wr();Object.defineProperty(C,"Disposable",{enumerable:!0,get:function(){return Qu.Disposable}});var Ts=Lt();Object.defineProperty(C,"Event",{enumerable:!0,get:function(){return Ts.Event}});Object.defineProperty(C,"Emitter",{enumerable:!0,get:function(){return Ts.Emitter}});var Ps=_i();Object.defineProperty(C,"CancellationTokenSource",{enumerable:!0,get:function(){return Ps.CancellationTokenSource}});Object.defineProperty(C,"CancellationToken",{enumerable:!0,get:function(){return Ps.CancellationToken}});var Mi=gs();Object.defineProperty(C,"MessageReader",{enumerable:!0,get:function(){return Mi.MessageReader}});Object.defineProperty(C,"AbstractMessageReader",{enumerable:!0,get:function(){return Mi.AbstractMessageReader}});Object.defineProperty(C,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Mi.ReadableStreamMessageReader}});var Fi=_s();Object.defineProperty(C,"MessageWriter",{enumerable:!0,get:function(){return Fi.MessageWriter}});Object.defineProperty(C,"AbstractMessageWriter",{enumerable:!0,get:function(){return Fi.AbstractMessageWriter}});Object.defineProperty(C,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Fi.WriteableStreamMessageWriter}});var _e=Cs();Object.defineProperty(C,"ConnectionStrategy",{enumerable:!0,get:function(){return _e.ConnectionStrategy}});Object.defineProperty(C,"ConnectionOptions",{enumerable:!0,get:function(){return _e.ConnectionOptions}});Object.defineProperty(C,"NullLogger",{enumerable:!0,get:function(){return _e.NullLogger}});Object.defineProperty(C,"createMessageConnection",{enumerable:!0,get:function(){return _e.createMessageConnection}});Object.defineProperty(C,"ProgressType",{enumerable:!0,get:function(){return _e.ProgressType}});Object.defineProperty(C,"Trace",{enumerable:!0,get:function(){return _e.Trace}});Object.defineProperty(C,"TraceFormat",{enumerable:!0,get:function(){return _e.TraceFormat}});Object.defineProperty(C,"SetTraceNotification",{enumerable:!0,get:function(){return _e.SetTraceNotification}});Object.defineProperty(C,"LogTraceNotification",{enumerable:!0,get:function(){return _e.LogTraceNotification}});Object.defineProperty(C,"ConnectionErrors",{enumerable:!0,get:function(){return _e.ConnectionErrors}});Object.defineProperty(C,"ConnectionError",{enumerable:!0,get:function(){return _e.ConnectionError}});Object.defineProperty(C,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return _e.CancellationReceiverStrategy}});Object.defineProperty(C,"CancellationSenderStrategy",{enumerable:!0,get:function(){return _e.CancellationSenderStrategy}});Object.defineProperty(C,"CancellationStrategy",{enumerable:!0,get:function(){return _e.CancellationStrategy}});var Yu=Je();C.RAL=Yu.default});var Ht=D(J=>{"use strict";var Zu=J&&J.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ku=J&&J.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Zu(t,e,n)};Object.defineProperty(J,"__esModule",{value:!0});J.createMessageConnection=J.createServerSocketTransport=J.createClientSocketTransport=J.createServerPipeTransport=J.createClientPipeTransport=J.generateRandomPipeName=J.StreamMessageWriter=J.StreamMessageReader=J.SocketMessageWriter=J.SocketMessageReader=J.IPCMessageWriter=J.IPCMessageReader=void 0;var Wt=us();Wt.default.install();var He=xi(),Ss=require("path"),Vu=require("os"),el=require("crypto"),Bn=require("net");Ku(xi(),J);var Ai=class extends He.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),He.Disposable.create(()=>this.process.off("message",t))}};J.IPCMessageReader=Ai;var Li=class extends He.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};J.IPCMessageWriter=Li;var wt=class extends He.ReadableStreamMessageReader{constructor(t,n="utf-8"){super(Wt.default().stream.asReadableStream(t),n)}};J.SocketMessageReader=wt;var qt=class extends He.WriteableStreamMessageWriter{constructor(t,n){super(Wt.default().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};J.SocketMessageWriter=qt;var $n=class extends He.ReadableStreamMessageReader{constructor(t,n){super(Wt.default().stream.asReadableStream(t),n)}};J.StreamMessageReader=$n;var zn=class extends He.WriteableStreamMessageWriter{constructor(t,n){super(Wt.default().stream.asWritableStream(t),n)}};J.StreamMessageWriter=zn;var Es=process.env.XDG_RUNTIME_DIR,tl=new Map([["linux",107],["darwin",103]]);function nl(){let e=el.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Es?t=Ss.join(Es,`vscode-ipc-${e}.sock`):t=Ss.join(Vu.tmpdir(),`vscode-${e}.sock`);let n=tl.get(process.platform);return n!==void 0&&t.length>=n&&Wt.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}J.generateRandomPipeName=nl;function rl(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let l=Bn.createServer(p=>{l.close(),n([new wt(p,t),new qt(p,t)])});l.on("error",a),l.listen(e,()=>{l.removeListener("error",a),i({onConnected:()=>r})})})}J.createClientPipeTransport=rl;function il(e,t="utf-8"){let n=Bn.createConnection(e);return[new wt(n,t),new qt(n,t)]}J.createServerPipeTransport=il;function ol(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let l=Bn.createServer(p=>{l.close(),n([new wt(p,t),new qt(p,t)])});l.on("error",a),l.listen(e,"127.0.0.1",()=>{l.removeListener("error",a),i({onConnected:()=>r})})})}J.createClientSocketTransport=ol;function sl(e,t="utf-8"){let n=Bn.createConnection(e,"127.0.0.1");return[new wt(n,t),new qt(n,t)]}J.createServerSocketTransport=sl;function al(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function cl(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function ul(e,t,n,r){n||(n=He.NullLogger);let i=al(e)?new $n(e):e,a=cl(t)?new zn(t):t;return He.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),He.createMessageConnection(i,a,n,r)}J.createMessageConnection=ul});var Ii=D((dm,Ds)=>{"use strict";Ds.exports=Ht()});var Ns=D((Os,Gn)=>{(function(e){if(typeof Gn=="object"&&typeof Gn.exports=="object"){var t=e(require,Os);t!==void 0&&(Gn.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionKind=t.DocumentSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=void 0;var n;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647})(n=t.integer||(t.integer={}));var r;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647})(r=t.uinteger||(t.uinteger={}));var i;(function(s){function d(c,o){return c===Number.MAX_VALUE&&(c=r.MAX_VALUE),o===Number.MAX_VALUE&&(o=r.MAX_VALUE),{line:c,character:o}}s.create=d;function m(c){var o=c;return f.objectLiteral(o)&&f.uinteger(o.line)&&f.uinteger(o.character)}s.is=m})(i=t.Position||(t.Position={}));var a;(function(s){function d(c,o,_,w){if(f.uinteger(c)&&f.uinteger(o)&&f.uinteger(_)&&f.uinteger(w))return{start:i.create(c,o),end:i.create(_,w)};if(i.is(c)&&i.is(o))return{start:c,end:o};throw new Error("Range#create called with invalid arguments["+c+", "+o+", "+_+", "+w+"]")}s.create=d;function m(c){var o=c;return f.objectLiteral(o)&&i.is(o.start)&&i.is(o.end)}s.is=m})(a=t.Range||(t.Range={}));var l;(function(s){function d(c,o){return{uri:c,range:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&a.is(o.range)&&(f.string(o.uri)||f.undefined(o.uri))}s.is=m})(l=t.Location||(t.Location={}));var p;(function(s){function d(c,o,_,w){return{targetUri:c,targetRange:o,targetSelectionRange:_,originSelectionRange:w}}s.create=d;function m(c){var o=c;return f.defined(o)&&a.is(o.targetRange)&&f.string(o.targetUri)&&(a.is(o.targetSelectionRange)||f.undefined(o.targetSelectionRange))&&(a.is(o.originSelectionRange)||f.undefined(o.originSelectionRange))}s.is=m})(p=t.LocationLink||(t.LocationLink={}));var g;(function(s){function d(c,o,_,w){return{red:c,green:o,blue:_,alpha:w}}s.create=d;function m(c){var o=c;return f.numberRange(o.red,0,1)&&f.numberRange(o.green,0,1)&&f.numberRange(o.blue,0,1)&&f.numberRange(o.alpha,0,1)}s.is=m})(g=t.Color||(t.Color={}));var b;(function(s){function d(c,o){return{range:c,color:o}}s.create=d;function m(c){var o=c;return a.is(o.range)&&g.is(o.color)}s.is=m})(b=t.ColorInformation||(t.ColorInformation={}));var R;(function(s){function d(c,o,_){return{label:c,textEdit:o,additionalTextEdits:_}}s.create=d;function m(c){var o=c;return f.string(o.label)&&(f.undefined(o.textEdit)||k.is(o))&&(f.undefined(o.additionalTextEdits)||f.typedArray(o.additionalTextEdits,k.is))}s.is=m})(R=t.ColorPresentation||(t.ColorPresentation={}));var T;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(T=t.FoldingRangeKind||(t.FoldingRangeKind={}));var q;(function(s){function d(c,o,_,w,N){var x={startLine:c,endLine:o};return f.defined(_)&&(x.startCharacter=_),f.defined(w)&&(x.endCharacter=w),f.defined(N)&&(x.kind=N),x}s.create=d;function m(c){var o=c;return f.uinteger(o.startLine)&&f.uinteger(o.startLine)&&(f.undefined(o.startCharacter)||f.uinteger(o.startCharacter))&&(f.undefined(o.endCharacter)||f.uinteger(o.endCharacter))&&(f.undefined(o.kind)||f.string(o.kind))}s.is=m})(q=t.FoldingRange||(t.FoldingRange={}));var P;(function(s){function d(c,o){return{location:c,message:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&l.is(o.location)&&f.string(o.message)}s.is=m})(P=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var S;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(S=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var j;(function(s){s.Unnecessary=1,s.Deprecated=2})(j=t.DiagnosticTag||(t.DiagnosticTag={}));var M;(function(s){function d(m){var c=m;return c!=null&&f.string(c.href)}s.is=d})(M=t.CodeDescription||(t.CodeDescription={}));var y;(function(s){function d(c,o,_,w,N,x){var $={range:c,message:o};return f.defined(_)&&($.severity=_),f.defined(w)&&($.code=w),f.defined(N)&&($.source=N),f.defined(x)&&($.relatedInformation=x),$}s.create=d;function m(c){var o,_=c;return f.defined(_)&&a.is(_.range)&&f.string(_.message)&&(f.number(_.severity)||f.undefined(_.severity))&&(f.integer(_.code)||f.string(_.code)||f.undefined(_.code))&&(f.undefined(_.codeDescription)||f.string((o=_.codeDescription)===null||o===void 0?void 0:o.href))&&(f.string(_.source)||f.undefined(_.source))&&(f.undefined(_.relatedInformation)||f.typedArray(_.relatedInformation,P.is))}s.is=m})(y=t.Diagnostic||(t.Diagnostic={}));var v;(function(s){function d(c,o){for(var _=[],w=2;w<arguments.length;w++)_[w-2]=arguments[w];var N={title:c,command:o};return f.defined(_)&&_.length>0&&(N.arguments=_),N}s.create=d;function m(c){var o=c;return f.defined(o)&&f.string(o.title)&&f.string(o.command)}s.is=m})(v=t.Command||(t.Command={}));var k;(function(s){function d(_,w){return{range:_,newText:w}}s.replace=d;function m(_,w){return{range:{start:_,end:_},newText:w}}s.insert=m;function c(_){return{range:_,newText:""}}s.del=c;function o(_){var w=_;return f.objectLiteral(w)&&f.string(w.newText)&&a.is(w.range)}s.is=o})(k=t.TextEdit||(t.TextEdit={}));var O;(function(s){function d(c,o,_){var w={label:c};return o!==void 0&&(w.needsConfirmation=o),_!==void 0&&(w.description=_),w}s.create=d;function m(c){var o=c;return o!==void 0&&f.objectLiteral(o)&&f.string(o.label)&&(f.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(f.string(o.description)||o.description===void 0)}s.is=m})(O=t.ChangeAnnotation||(t.ChangeAnnotation={}));var A;(function(s){function d(m){var c=m;return typeof c=="string"}s.is=d})(A=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var oe;(function(s){function d(_,w,N){return{range:_,newText:w,annotationId:N}}s.replace=d;function m(_,w,N){return{range:{start:_,end:_},newText:w,annotationId:N}}s.insert=m;function c(_,w){return{range:_,newText:"",annotationId:w}}s.del=c;function o(_){var w=_;return k.is(w)&&(O.is(w.annotationId)||A.is(w.annotationId))}s.is=o})(oe=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var we;(function(s){function d(c,o){return{textDocument:c,edits:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&Ve.is(o.textDocument)&&Array.isArray(o.edits)}s.is=m})(we=t.TextDocumentEdit||(t.TextDocumentEdit={}));var ge;(function(s){function d(c,o,_){var w={kind:"create",uri:c};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(w.options=o),_!==void 0&&(w.annotationId=_),w}s.create=d;function m(c){var o=c;return o&&o.kind==="create"&&f.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||f.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||f.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=m})(ge=t.CreateFile||(t.CreateFile={}));var de;(function(s){function d(c,o,_,w){var N={kind:"rename",oldUri:c,newUri:o};return _!==void 0&&(_.overwrite!==void 0||_.ignoreIfExists!==void 0)&&(N.options=_),w!==void 0&&(N.annotationId=w),N}s.create=d;function m(c){var o=c;return o&&o.kind==="rename"&&f.string(o.oldUri)&&f.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||f.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||f.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=m})(de=t.RenameFile||(t.RenameFile={}));var Te;(function(s){function d(c,o,_){var w={kind:"delete",uri:c};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(w.options=o),_!==void 0&&(w.annotationId=_),w}s.create=d;function m(c){var o=c;return o&&o.kind==="delete"&&f.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||f.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||f.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||A.is(o.annotationId))}s.is=m})(Te=t.DeleteFile||(t.DeleteFile={}));var Ne;(function(s){function d(m){var c=m;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(function(o){return f.string(o.kind)?ge.is(o)||de.is(o)||Te.is(o):we.is(o)}))}s.is=d})(Ne=t.WorkspaceEdit||(t.WorkspaceEdit={}));var Ie=function(){function s(d,m){this.edits=d,this.changeAnnotations=m}return s.prototype.insert=function(d,m,c){var o,_;if(c===void 0?o=k.insert(d,m):A.is(c)?(_=c,o=oe.insert(d,m,c)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(c),o=oe.insert(d,m,_)),this.edits.push(o),_!==void 0)return _},s.prototype.replace=function(d,m,c){var o,_;if(c===void 0?o=k.replace(d,m):A.is(c)?(_=c,o=oe.replace(d,m,c)):(this.assertChangeAnnotations(this.changeAnnotations),_=this.changeAnnotations.manage(c),o=oe.replace(d,m,_)),this.edits.push(o),_!==void 0)return _},s.prototype.delete=function(d,m){var c,o;if(m===void 0?c=k.del(d):A.is(m)?(o=m,c=oe.del(d,m)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(m),c=oe.del(d,o)),this.edits.push(c),o!==void 0)return o},s.prototype.add=function(d){this.edits.push(d)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(d){if(d===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),We=function(){function s(d){this._annotations=d===void 0?Object.create(null):d,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(d,m){var c;if(A.is(d)?c=d:(c=this.nextId(),m=d),this._annotations[c]!==void 0)throw new Error("Id "+c+" is already in use.");if(m===void 0)throw new Error("No annotation provided for id "+c);return this._annotations[c]=m,this._size++,c},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),Vt=function(){function s(d){var m=this;this._textEditChanges=Object.create(null),d!==void 0?(this._workspaceEdit=d,d.documentChanges?(this._changeAnnotations=new We(d.changeAnnotations),d.changeAnnotations=this._changeAnnotations.all(),d.documentChanges.forEach(function(c){if(we.is(c)){var o=new Ie(c.edits,m._changeAnnotations);m._textEditChanges[c.textDocument.uri]=o}})):d.changes&&Object.keys(d.changes).forEach(function(c){var o=new Ie(d.changes[c]);m._textEditChanges[c]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(d){if(Ve.is(d)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var m={uri:d.uri,version:d.version},c=this._textEditChanges[m.uri];if(!c){var o=[],_={textDocument:m,edits:o};this._workspaceEdit.documentChanges.push(_),c=new Ie(o,this._changeAnnotations),this._textEditChanges[m.uri]=c}return c}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[d];if(!c){var o=[];this._workspaceEdit.changes[d]=o,c=new Ie(o),this._textEditChanges[d]=c}return c}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new We,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(d,m,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;O.is(m)||A.is(m)?o=m:c=m;var _,w;if(o===void 0?_=ge.create(d,c):(w=A.is(o)?o:this._changeAnnotations.manage(o),_=ge.create(d,c,w)),this._workspaceEdit.documentChanges.push(_),w!==void 0)return w},s.prototype.renameFile=function(d,m,c,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var _;O.is(c)||A.is(c)?_=c:o=c;var w,N;if(_===void 0?w=de.create(d,m,o):(N=A.is(_)?_:this._changeAnnotations.manage(_),w=de.create(d,m,o,N)),this._workspaceEdit.documentChanges.push(w),N!==void 0)return N},s.prototype.deleteFile=function(d,m,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;O.is(m)||A.is(m)?o=m:c=m;var _,w;if(o===void 0?_=Te.create(d,c):(w=A.is(o)?o:this._changeAnnotations.manage(o),_=Te.create(d,c,w)),this._workspaceEdit.documentChanges.push(_),w!==void 0)return w},s}();t.WorkspaceChange=Vt;var gt;(function(s){function d(c){return{uri:c}}s.create=d;function m(c){var o=c;return f.defined(o)&&f.string(o.uri)}s.is=m})(gt=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var Dt;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&f.string(o.uri)&&f.integer(o.version)}s.is=m})(Dt=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var Ve;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&f.string(o.uri)&&(o.version===null||f.integer(o.version))}s.is=m})(Ve=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var Ot;(function(s){function d(c,o,_,w){return{uri:c,languageId:o,version:_,text:w}}s.create=d;function m(c){var o=c;return f.defined(o)&&f.string(o.uri)&&f.string(o.languageId)&&f.integer(o.version)&&f.string(o.text)}s.is=m})(Ot=t.TextDocumentItem||(t.TextDocumentItem={}));var ye;(function(s){s.PlainText="plaintext",s.Markdown="markdown"})(ye=t.MarkupKind||(t.MarkupKind={})),function(s){function d(m){var c=m;return c===s.PlainText||c===s.Markdown}s.is=d}(ye=t.MarkupKind||(t.MarkupKind={}));var et;(function(s){function d(m){var c=m;return f.objectLiteral(m)&&ye.is(c.kind)&&f.string(c.value)}s.is=d})(et=t.MarkupContent||(t.MarkupContent={}));var Nt;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(Nt=t.CompletionItemKind||(t.CompletionItemKind={}));var mt;(function(s){s.PlainText=1,s.Snippet=2})(mt=t.InsertTextFormat||(t.InsertTextFormat={}));var Pn;(function(s){s.Deprecated=1})(Pn=t.CompletionItemTag||(t.CompletionItemTag={}));var kr;(function(s){function d(c,o,_){return{newText:c,insert:o,replace:_}}s.create=d;function m(c){var o=c;return o&&f.string(o.newText)&&a.is(o.insert)&&a.is(o.replace)}s.is=m})(kr=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var Cr;(function(s){s.asIs=1,s.adjustIndentation=2})(Cr=t.InsertTextMode||(t.InsertTextMode={}));var Tr;(function(s){function d(m){return{label:m}}s.create=d})(Tr=t.CompletionItem||(t.CompletionItem={}));var Pr;(function(s){function d(m,c){return{items:m||[],isIncomplete:!!c}}s.create=d})(Pr=t.CompletionList||(t.CompletionList={}));var en;(function(s){function d(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=d;function m(c){var o=c;return f.string(o)||f.objectLiteral(o)&&f.string(o.language)&&f.string(o.value)}s.is=m})(en=t.MarkedString||(t.MarkedString={}));var Sr;(function(s){function d(m){var c=m;return!!c&&f.objectLiteral(c)&&(et.is(c.contents)||en.is(c.contents)||f.typedArray(c.contents,en.is))&&(m.range===void 0||a.is(m.range))}s.is=d})(Sr=t.Hover||(t.Hover={}));var Er;(function(s){function d(m,c){return c?{label:m,documentation:c}:{label:m}}s.create=d})(Er=t.ParameterInformation||(t.ParameterInformation={}));var Dr;(function(s){function d(m,c){for(var o=[],_=2;_<arguments.length;_++)o[_-2]=arguments[_];var w={label:m};return f.defined(c)&&(w.documentation=c),f.defined(o)?w.parameters=o:w.parameters=[],w}s.create=d})(Dr=t.SignatureInformation||(t.SignatureInformation={}));var jt;(function(s){s.Text=1,s.Read=2,s.Write=3})(jt=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Or;(function(s){function d(m,c){var o={range:m};return f.number(c)&&(o.kind=c),o}s.create=d})(Or=t.DocumentHighlight||(t.DocumentHighlight={}));var Nr;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(Nr=t.SymbolKind||(t.SymbolKind={}));var jr;(function(s){s.Deprecated=1})(jr=t.SymbolTag||(t.SymbolTag={}));var tt;(function(s){function d(m,c,o,_,w){var N={name:m,kind:c,location:{uri:_,range:o}};return w&&(N.containerName=w),N}s.create=d})(tt=t.SymbolInformation||(t.SymbolInformation={}));var pt;(function(s){function d(c,o,_,w,N,x){var $={name:c,detail:o,kind:_,range:w,selectionRange:N};return x!==void 0&&($.children=x),$}s.create=d;function m(c){var o=c;return o&&f.string(o.name)&&f.number(o.kind)&&a.is(o.range)&&a.is(o.selectionRange)&&(o.detail===void 0||f.string(o.detail))&&(o.deprecated===void 0||f.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=m})(pt=t.DocumentSymbol||(t.DocumentSymbol={}));var Mr;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(Mr=t.CodeActionKind||(t.CodeActionKind={}));var Fr;(function(s){function d(c,o){var _={diagnostics:c};return o!=null&&(_.only=o),_}s.create=d;function m(c){var o=c;return f.defined(o)&&f.typedArray(o.diagnostics,y.is)&&(o.only===void 0||f.typedArray(o.only,f.string))}s.is=m})(Fr=t.CodeActionContext||(t.CodeActionContext={}));var vt;(function(s){function d(c,o,_){var w={title:c},N=!0;return typeof o=="string"?(N=!1,w.kind=o):v.is(o)?w.command=o:w.edit=o,N&&_!==void 0&&(w.kind=_),w}s.create=d;function m(c){var o=c;return o&&f.string(o.title)&&(o.diagnostics===void 0||f.typedArray(o.diagnostics,y.is))&&(o.kind===void 0||f.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||v.is(o.command))&&(o.isPreferred===void 0||f.boolean(o.isPreferred))&&(o.edit===void 0||Ne.is(o.edit))}s.is=m})(vt=t.CodeAction||(t.CodeAction={}));var Sn;(function(s){function d(c,o){var _={range:c};return f.defined(o)&&(_.data=o),_}s.create=d;function m(c){var o=c;return f.defined(o)&&a.is(o.range)&&(f.undefined(o.command)||v.is(o.command))}s.is=m})(Sn=t.CodeLens||(t.CodeLens={}));var En;(function(s){function d(c,o){return{tabSize:c,insertSpaces:o}}s.create=d;function m(c){var o=c;return f.defined(o)&&f.uinteger(o.tabSize)&&f.boolean(o.insertSpaces)}s.is=m})(En=t.FormattingOptions||(t.FormattingOptions={}));var tn;(function(s){function d(c,o,_){return{range:c,target:o,data:_}}s.create=d;function m(c){var o=c;return f.defined(o)&&a.is(o.range)&&(f.undefined(o.target)||f.string(o.target))}s.is=m})(tn=t.DocumentLink||(t.DocumentLink={}));var Dn;(function(s){function d(c,o){return{range:c,parent:o}}s.create=d;function m(c){var o=c;return o!==void 0&&a.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=m})(Dn=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var nt;(function(s){function d(_,w,N,x){return new h(_,w,N,x)}s.create=d;function m(_){var w=_;return!!(f.defined(w)&&f.string(w.uri)&&(f.undefined(w.languageId)||f.string(w.languageId))&&f.uinteger(w.lineCount)&&f.func(w.getText)&&f.func(w.positionAt)&&f.func(w.offsetAt))}s.is=m;function c(_,w){for(var N=_.getText(),x=o(w,function(Mt,On){var ts=Mt.range.start.line-On.range.start.line;return ts===0?Mt.range.start.character-On.range.start.character:ts}),$=N.length,Y=x.length-1;Y>=0;Y--){var re=x[Y],se=_.offsetAt(re.range.start),B=_.offsetAt(re.range.end);if(B<=$)N=N.substring(0,se)+re.newText+N.substring(B,N.length);else throw new Error("Overlapping edit");$=se}return N}s.applyEdits=c;function o(_,w){if(_.length<=1)return _;var N=_.length/2|0,x=_.slice(0,N),$=_.slice(N);o(x,w),o($,w);for(var Y=0,re=0,se=0;Y<x.length&&re<$.length;){var B=w(x[Y],$[re]);B<=0?_[se++]=x[Y++]:_[se++]=$[re++]}for(;Y<x.length;)_[se++]=x[Y++];for(;re<$.length;)_[se++]=$[re++];return _}})(nt=t.TextDocument||(t.TextDocument={}));var h=function(){function s(d,m,c,o){this._uri=d,this._languageId=m,this._version=c,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(d){if(d){var m=this.offsetAt(d.start),c=this.offsetAt(d.end);return this._content.substring(m,c)}return this._content},s.prototype.update=function(d,m){this._content=d.text,this._version=m,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var d=[],m=this._content,c=!0,o=0;o<m.length;o++){c&&(d.push(o),c=!1);var _=m.charAt(o);c=_==="\r"||_===`
`,_==="\r"&&o+1<m.length&&m.charAt(o+1)===`
`&&o++}c&&m.length>0&&d.push(m.length),this._lineOffsets=d}return this._lineOffsets},s.prototype.positionAt=function(d){d=Math.max(Math.min(d,this._content.length),0);var m=this.getLineOffsets(),c=0,o=m.length;if(o===0)return i.create(0,d);for(;c<o;){var _=Math.floor((c+o)/2);m[_]>d?o=_:c=_+1}var w=c-1;return i.create(w,d-m[w])},s.prototype.offsetAt=function(d){var m=this.getLineOffsets();if(d.line>=m.length)return this._content.length;if(d.line<0)return 0;var c=m[d.line],o=d.line+1<m.length?m[d.line+1]:this._content.length;return Math.max(Math.min(c+d.character,o),c)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),f;(function(s){var d=Object.prototype.toString;function m(B){return typeof B<"u"}s.defined=m;function c(B){return typeof B>"u"}s.undefined=c;function o(B){return B===!0||B===!1}s.boolean=o;function _(B){return d.call(B)==="[object String]"}s.string=_;function w(B){return d.call(B)==="[object Number]"}s.number=w;function N(B,Mt,On){return d.call(B)==="[object Number]"&&Mt<=B&&B<=On}s.numberRange=N;function x(B){return d.call(B)==="[object Number]"&&-2147483648<=B&&B<=2147483647}s.integer=x;function $(B){return d.call(B)==="[object Number]"&&0<=B&&B<=2147483647}s.uinteger=$;function Y(B){return d.call(B)==="[object Function]"}s.func=Y;function re(B){return B!==null&&typeof B=="object"}s.objectLiteral=re;function se(B,Mt){return Array.isArray(B)&&B.every(Mt)}s.typedArray=se})(f||(f={}))})});var ue=D(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ProtocolNotificationType=Pe.ProtocolNotificationType0=Pe.ProtocolRequestType=Pe.ProtocolRequestType0=Pe.RegistrationType=void 0;var $t=Ht(),Wi=class{constructor(t){this.method=t}};Pe.RegistrationType=Wi;var Hi=class extends $t.RequestType0{constructor(t){super(t)}};Pe.ProtocolRequestType0=Hi;var $i=class extends $t.RequestType{constructor(t){super(t,$t.ParameterStructures.byName)}};Pe.ProtocolRequestType=$i;var zi=class extends $t.NotificationType0{constructor(t){super(t)}};Pe.ProtocolNotificationType0=zi;var Bi=class extends $t.NotificationType{constructor(t){super(t,$t.ParameterStructures.byName)}};Pe.ProtocolNotificationType=Bi});var Fs=D(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.objectLiteral=ne.typedArray=ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function ll(e){return e===!0||e===!1}ne.boolean=ll;function js(e){return typeof e=="string"||e instanceof String}ne.string=js;function fl(e){return typeof e=="number"||e instanceof Number}ne.number=fl;function dl(e){return e instanceof Error}ne.error=dl;function hl(e){return typeof e=="function"}ne.func=hl;function Ms(e){return Array.isArray(e)}ne.array=Ms;function gl(e){return Ms(e)&&e.every(t=>js(t))}ne.stringArray=gl;function ml(e,t){return Array.isArray(e)&&e.every(t)}ne.typedArray=ml;function pl(e){return e!==null&&typeof e=="object"}ne.objectLiteral=pl});var xs=D(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.ImplementationRequest=void 0;var vl=ue(),yl;(function(e){e.method="textDocument/implementation",e.type=new vl.ProtocolRequestType(e.method)})(yl=cn.ImplementationRequest||(cn.ImplementationRequest={}))});var As=D(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.TypeDefinitionRequest=void 0;var _l=ue(),bl;(function(e){e.method="textDocument/typeDefinition",e.type=new _l.ProtocolRequestType(e.method)})(bl=un.TypeDefinitionRequest||(un.TypeDefinitionRequest={}))});var Is=D(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.DidChangeWorkspaceFoldersNotification=it.WorkspaceFoldersRequest=void 0;var Ls=ue(),Rl;(function(e){e.type=new Ls.ProtocolRequestType0("workspace/workspaceFolders")})(Rl=it.WorkspaceFoldersRequest||(it.WorkspaceFoldersRequest={}));var wl;(function(e){e.type=new Ls.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(wl=it.DidChangeWorkspaceFoldersNotification||(it.DidChangeWorkspaceFoldersNotification={}))});var Ws=D(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.ConfigurationRequest=void 0;var ql=ue(),kl;(function(e){e.type=new ql.ProtocolRequestType("workspace/configuration")})(kl=ln.ConfigurationRequest||(ln.ConfigurationRequest={}))});var $s=D(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.ColorPresentationRequest=ot.DocumentColorRequest=void 0;var Hs=ue(),Cl;(function(e){e.method="textDocument/documentColor",e.type=new Hs.ProtocolRequestType(e.method)})(Cl=ot.DocumentColorRequest||(ot.DocumentColorRequest={}));var Tl;(function(e){e.type=new Hs.ProtocolRequestType("textDocument/colorPresentation")})(Tl=ot.ColorPresentationRequest||(ot.ColorPresentationRequest={}))});var zs=D(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.FoldingRangeRequest=st.FoldingRangeKind=void 0;var Pl=ue(),Sl;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Sl=st.FoldingRangeKind||(st.FoldingRangeKind={}));var El;(function(e){e.method="textDocument/foldingRange",e.type=new Pl.ProtocolRequestType(e.method)})(El=st.FoldingRangeRequest||(st.FoldingRangeRequest={}))});var Bs=D(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.DeclarationRequest=void 0;var Dl=ue(),Ol;(function(e){e.method="textDocument/declaration",e.type=new Dl.ProtocolRequestType(e.method)})(Ol=fn.DeclarationRequest||(fn.DeclarationRequest={}))});var Gs=D(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.SelectionRangeRequest=void 0;var Nl=ue(),jl;(function(e){e.method="textDocument/selectionRange",e.type=new Nl.ProtocolRequestType(e.method)})(jl=dn.SelectionRangeRequest||(dn.SelectionRangeRequest={}))});var Us=D(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.WorkDoneProgressCancelNotification=Fe.WorkDoneProgressCreateRequest=Fe.WorkDoneProgress=void 0;var Ml=Ht(),Js=ue(),Fl;(function(e){e.type=new Ml.ProgressType;function t(n){return n===e.type}e.is=t})(Fl=Fe.WorkDoneProgress||(Fe.WorkDoneProgress={}));var xl;(function(e){e.type=new Js.ProtocolRequestType("window/workDoneProgress/create")})(xl=Fe.WorkDoneProgressCreateRequest||(Fe.WorkDoneProgressCreateRequest={}));var Al;(function(e){e.type=new Js.ProtocolNotificationType("window/workDoneProgress/cancel")})(Al=Fe.WorkDoneProgressCancelNotification||(Fe.WorkDoneProgressCancelNotification={}))});var Xs=D(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.CallHierarchyOutgoingCallsRequest=xe.CallHierarchyIncomingCallsRequest=xe.CallHierarchyPrepareRequest=void 0;var Gi=ue(),Ll;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new Gi.ProtocolRequestType(e.method)})(Ll=xe.CallHierarchyPrepareRequest||(xe.CallHierarchyPrepareRequest={}));var Il;(function(e){e.method="callHierarchy/incomingCalls",e.type=new Gi.ProtocolRequestType(e.method)})(Il=xe.CallHierarchyIncomingCallsRequest||(xe.CallHierarchyIncomingCallsRequest={}));var Wl;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new Gi.ProtocolRequestType(e.method)})(Wl=xe.CallHierarchyOutgoingCallsRequest||(xe.CallHierarchyOutgoingCallsRequest={}))});var Qs=D(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.SemanticTokensRefreshRequest=X.SemanticTokensRangeRequest=X.SemanticTokensDeltaRequest=X.SemanticTokensRequest=X.SemanticTokensRegistrationType=X.TokenFormat=X.SemanticTokens=X.SemanticTokenModifiers=X.SemanticTokenTypes=void 0;var hn=ue(),Hl;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"})(Hl=X.SemanticTokenTypes||(X.SemanticTokenTypes={}));var $l;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})($l=X.SemanticTokenModifiers||(X.SemanticTokenModifiers={}));var zl;(function(e){function t(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(zl=X.SemanticTokens||(X.SemanticTokens={}));var Bl;(function(e){e.Relative="relative"})(Bl=X.TokenFormat||(X.TokenFormat={}));var Gl;(function(e){e.method="textDocument/semanticTokens",e.type=new hn.RegistrationType(e.method)})(Gl=X.SemanticTokensRegistrationType||(X.SemanticTokensRegistrationType={}));var Jl;(function(e){e.method="textDocument/semanticTokens/full",e.type=new hn.ProtocolRequestType(e.method)})(Jl=X.SemanticTokensRequest||(X.SemanticTokensRequest={}));var Ul;(function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new hn.ProtocolRequestType(e.method)})(Ul=X.SemanticTokensDeltaRequest||(X.SemanticTokensDeltaRequest={}));var Xl;(function(e){e.method="textDocument/semanticTokens/range",e.type=new hn.ProtocolRequestType(e.method)})(Xl=X.SemanticTokensRangeRequest||(X.SemanticTokensRangeRequest={}));var Ql;(function(e){e.method="workspace/semanticTokens/refresh",e.type=new hn.ProtocolRequestType0(e.method)})(Ql=X.SemanticTokensRefreshRequest||(X.SemanticTokensRefreshRequest={}))});var Ys=D(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.ShowDocumentRequest=void 0;var Yl=ue(),Zl;(function(e){e.method="window/showDocument",e.type=new Yl.ProtocolRequestType(e.method)})(Zl=gn.ShowDocumentRequest||(gn.ShowDocumentRequest={}))});var Zs=D(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.LinkedEditingRangeRequest=void 0;var Kl=ue(),Vl;(function(e){e.method="textDocument/linkedEditingRange",e.type=new Kl.ProtocolRequestType(e.method)})(Vl=mn.LinkedEditingRangeRequest||(mn.LinkedEditingRangeRequest={}))});var Ks=D(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.WillDeleteFilesRequest=V.DidDeleteFilesNotification=V.DidRenameFilesNotification=V.WillRenameFilesRequest=V.DidCreateFilesNotification=V.WillCreateFilesRequest=V.FileOperationPatternKind=void 0;var zt=ue(),ef;(function(e){e.file="file",e.folder="folder"})(ef=V.FileOperationPatternKind||(V.FileOperationPatternKind={}));var tf;(function(e){e.method="workspace/willCreateFiles",e.type=new zt.ProtocolRequestType(e.method)})(tf=V.WillCreateFilesRequest||(V.WillCreateFilesRequest={}));var nf;(function(e){e.method="workspace/didCreateFiles",e.type=new zt.ProtocolNotificationType(e.method)})(nf=V.DidCreateFilesNotification||(V.DidCreateFilesNotification={}));var rf;(function(e){e.method="workspace/willRenameFiles",e.type=new zt.ProtocolRequestType(e.method)})(rf=V.WillRenameFilesRequest||(V.WillRenameFilesRequest={}));var of;(function(e){e.method="workspace/didRenameFiles",e.type=new zt.ProtocolNotificationType(e.method)})(of=V.DidRenameFilesNotification||(V.DidRenameFilesNotification={}));var sf;(function(e){e.method="workspace/didDeleteFiles",e.type=new zt.ProtocolNotificationType(e.method)})(sf=V.DidDeleteFilesNotification||(V.DidDeleteFilesNotification={}));var af;(function(e){e.method="workspace/willDeleteFiles",e.type=new zt.ProtocolRequestType(e.method)})(af=V.WillDeleteFilesRequest||(V.WillDeleteFilesRequest={}))});var Vs=D(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.MonikerRequest=Ae.MonikerKind=Ae.UniquenessLevel=void 0;var cf=ue(),uf;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(uf=Ae.UniquenessLevel||(Ae.UniquenessLevel={}));var lf;(function(e){e.import="import",e.export="export",e.local="local"})(lf=Ae.MonikerKind||(Ae.MonikerKind={}));var ff;(function(e){e.method="textDocument/moniker",e.type=new cf.ProtocolRequestType(e.method)})(ff=Ae.MonikerRequest||(Ae.MonikerRequest={}))});var ia=D(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeError=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.DocumentFilter=void 0;u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.SemanticTokens=u.SemanticTokenModifiers=u.SemanticTokenTypes=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=void 0;var at=Fs(),W=ue(),df=xs();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return df.ImplementationRequest}});var hf=As();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return hf.TypeDefinitionRequest}});var ea=Is();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return ea.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return ea.DidChangeWorkspaceFoldersNotification}});var gf=Ws();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return gf.ConfigurationRequest}});var ta=$s();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return ta.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return ta.ColorPresentationRequest}});var mf=zs();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return mf.FoldingRangeRequest}});var pf=Bs();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return pf.DeclarationRequest}});var vf=Gs();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return vf.SelectionRangeRequest}});var Ji=Us();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return Ji.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ji.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ji.WorkDoneProgressCancelNotification}});var Ui=Xs();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Ui.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Ui.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ui.CallHierarchyPrepareRequest}});var Ye=Qs();Object.defineProperty(u,"SemanticTokenTypes",{enumerable:!0,get:function(){return Ye.SemanticTokenTypes}});Object.defineProperty(u,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Ye.SemanticTokenModifiers}});Object.defineProperty(u,"SemanticTokens",{enumerable:!0,get:function(){return Ye.SemanticTokens}});Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return Ye.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ye.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ye.SemanticTokensRegistrationType}});var yf=Ys();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return yf.ShowDocumentRequest}});var _f=Zs();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _f.LinkedEditingRangeRequest}});var kt=Ks();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return kt.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return kt.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return kt.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return kt.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return kt.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return kt.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return kt.WillDeleteFilesRequest}});var Xi=Vs();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return Xi.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return Xi.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return Xi.MonikerRequest}});var na;(function(e){function t(n){let r=n;return at.string(r.language)||at.string(r.scheme)||at.string(r.pattern)}e.is=t})(na=u.DocumentFilter||(u.DocumentFilter={}));var ra;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!at.string(r)&&!na.is(r))return!1;return!0}e.is=t})(ra=u.DocumentSelector||(u.DocumentSelector={}));var bf;(function(e){e.type=new W.ProtocolRequestType("client/registerCapability")})(bf=u.RegistrationRequest||(u.RegistrationRequest={}));var Rf;(function(e){e.type=new W.ProtocolRequestType("client/unregisterCapability")})(Rf=u.UnregistrationRequest||(u.UnregistrationRequest={}));var wf;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(wf=u.ResourceOperationKind||(u.ResourceOperationKind={}));var qf;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(qf=u.FailureHandlingKind||(u.FailureHandlingKind={}));var kf;(function(e){function t(n){let r=n;return r&&at.string(r.id)&&r.id.length>0}e.hasId=t})(kf=u.StaticRegistrationOptions||(u.StaticRegistrationOptions={}));var Cf;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||ra.is(r.documentSelector))}e.is=t})(Cf=u.TextDocumentRegistrationOptions||(u.TextDocumentRegistrationOptions={}));var Tf;(function(e){function t(r){let i=r;return at.objectLiteral(i)&&(i.workDoneProgress===void 0||at.boolean(i.workDoneProgress))}e.is=t;function n(r){let i=r;return i&&at.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=n})(Tf=u.WorkDoneProgressOptions||(u.WorkDoneProgressOptions={}));var Pf;(function(e){e.type=new W.ProtocolRequestType("initialize")})(Pf=u.InitializeRequest||(u.InitializeRequest={}));var Sf;(function(e){e.unknownProtocolVersion=1})(Sf=u.InitializeError||(u.InitializeError={}));var Ef;(function(e){e.type=new W.ProtocolNotificationType("initialized")})(Ef=u.InitializedNotification||(u.InitializedNotification={}));var Df;(function(e){e.type=new W.ProtocolRequestType0("shutdown")})(Df=u.ShutdownRequest||(u.ShutdownRequest={}));var Of;(function(e){e.type=new W.ProtocolNotificationType0("exit")})(Of=u.ExitNotification||(u.ExitNotification={}));var Nf;(function(e){e.type=new W.ProtocolNotificationType("workspace/didChangeConfiguration")})(Nf=u.DidChangeConfigurationNotification||(u.DidChangeConfigurationNotification={}));var jf;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(jf=u.MessageType||(u.MessageType={}));var Mf;(function(e){e.type=new W.ProtocolNotificationType("window/showMessage")})(Mf=u.ShowMessageNotification||(u.ShowMessageNotification={}));var Ff;(function(e){e.type=new W.ProtocolRequestType("window/showMessageRequest")})(Ff=u.ShowMessageRequest||(u.ShowMessageRequest={}));var xf;(function(e){e.type=new W.ProtocolNotificationType("window/logMessage")})(xf=u.LogMessageNotification||(u.LogMessageNotification={}));var Af;(function(e){e.type=new W.ProtocolNotificationType("telemetry/event")})(Af=u.TelemetryEventNotification||(u.TelemetryEventNotification={}));var Lf;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Lf=u.TextDocumentSyncKind||(u.TextDocumentSyncKind={}));var If;(function(e){e.method="textDocument/didOpen",e.type=new W.ProtocolNotificationType(e.method)})(If=u.DidOpenTextDocumentNotification||(u.DidOpenTextDocumentNotification={}));var Wf;(function(e){function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=n})(Wf=u.TextDocumentContentChangeEvent||(u.TextDocumentContentChangeEvent={}));var Hf;(function(e){e.method="textDocument/didChange",e.type=new W.ProtocolNotificationType(e.method)})(Hf=u.DidChangeTextDocumentNotification||(u.DidChangeTextDocumentNotification={}));var $f;(function(e){e.method="textDocument/didClose",e.type=new W.ProtocolNotificationType(e.method)})($f=u.DidCloseTextDocumentNotification||(u.DidCloseTextDocumentNotification={}));var zf;(function(e){e.method="textDocument/didSave",e.type=new W.ProtocolNotificationType(e.method)})(zf=u.DidSaveTextDocumentNotification||(u.DidSaveTextDocumentNotification={}));var Bf;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Bf=u.TextDocumentSaveReason||(u.TextDocumentSaveReason={}));var Gf;(function(e){e.method="textDocument/willSave",e.type=new W.ProtocolNotificationType(e.method)})(Gf=u.WillSaveTextDocumentNotification||(u.WillSaveTextDocumentNotification={}));var Jf;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new W.ProtocolRequestType(e.method)})(Jf=u.WillSaveTextDocumentWaitUntilRequest||(u.WillSaveTextDocumentWaitUntilRequest={}));var Uf;(function(e){e.type=new W.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Uf=u.DidChangeWatchedFilesNotification||(u.DidChangeWatchedFilesNotification={}));var Xf;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Xf=u.FileChangeType||(u.FileChangeType={}));var Qf;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Qf=u.WatchKind||(u.WatchKind={}));var Yf;(function(e){e.type=new W.ProtocolNotificationType("textDocument/publishDiagnostics")})(Yf=u.PublishDiagnosticsNotification||(u.PublishDiagnosticsNotification={}));var Zf;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Zf=u.CompletionTriggerKind||(u.CompletionTriggerKind={}));var Kf;(function(e){e.method="textDocument/completion",e.type=new W.ProtocolRequestType(e.method)})(Kf=u.CompletionRequest||(u.CompletionRequest={}));var Vf;(function(e){e.method="completionItem/resolve",e.type=new W.ProtocolRequestType(e.method)})(Vf=u.CompletionResolveRequest||(u.CompletionResolveRequest={}));var ed;(function(e){e.method="textDocument/hover",e.type=new W.ProtocolRequestType(e.method)})(ed=u.HoverRequest||(u.HoverRequest={}));var td;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(td=u.SignatureHelpTriggerKind||(u.SignatureHelpTriggerKind={}));var nd;(function(e){e.method="textDocument/signatureHelp",e.type=new W.ProtocolRequestType(e.method)})(nd=u.SignatureHelpRequest||(u.SignatureHelpRequest={}));var rd;(function(e){e.method="textDocument/definition",e.type=new W.ProtocolRequestType(e.method)})(rd=u.DefinitionRequest||(u.DefinitionRequest={}));var id;(function(e){e.method="textDocument/references",e.type=new W.ProtocolRequestType(e.method)})(id=u.ReferencesRequest||(u.ReferencesRequest={}));var od;(function(e){e.method="textDocument/documentHighlight",e.type=new W.ProtocolRequestType(e.method)})(od=u.DocumentHighlightRequest||(u.DocumentHighlightRequest={}));var sd;(function(e){e.method="textDocument/documentSymbol",e.type=new W.ProtocolRequestType(e.method)})(sd=u.DocumentSymbolRequest||(u.DocumentSymbolRequest={}));var ad;(function(e){e.method="textDocument/codeAction",e.type=new W.ProtocolRequestType(e.method)})(ad=u.CodeActionRequest||(u.CodeActionRequest={}));var cd;(function(e){e.method="codeAction/resolve",e.type=new W.ProtocolRequestType(e.method)})(cd=u.CodeActionResolveRequest||(u.CodeActionResolveRequest={}));var ud;(function(e){e.method="workspace/symbol",e.type=new W.ProtocolRequestType(e.method)})(ud=u.WorkspaceSymbolRequest||(u.WorkspaceSymbolRequest={}));var ld;(function(e){e.method="textDocument/codeLens",e.type=new W.ProtocolRequestType(e.method)})(ld=u.CodeLensRequest||(u.CodeLensRequest={}));var fd;(function(e){e.method="codeLens/resolve",e.type=new W.ProtocolRequestType(e.method)})(fd=u.CodeLensResolveRequest||(u.CodeLensResolveRequest={}));var dd;(function(e){e.method="workspace/codeLens/refresh",e.type=new W.ProtocolRequestType0(e.method)})(dd=u.CodeLensRefreshRequest||(u.CodeLensRefreshRequest={}));var hd;(function(e){e.method="textDocument/documentLink",e.type=new W.ProtocolRequestType(e.method)})(hd=u.DocumentLinkRequest||(u.DocumentLinkRequest={}));var gd;(function(e){e.method="documentLink/resolve",e.type=new W.ProtocolRequestType(e.method)})(gd=u.DocumentLinkResolveRequest||(u.DocumentLinkResolveRequest={}));var md;(function(e){e.method="textDocument/formatting",e.type=new W.ProtocolRequestType(e.method)})(md=u.DocumentFormattingRequest||(u.DocumentFormattingRequest={}));var pd;(function(e){e.method="textDocument/rangeFormatting",e.type=new W.ProtocolRequestType(e.method)})(pd=u.DocumentRangeFormattingRequest||(u.DocumentRangeFormattingRequest={}));var vd;(function(e){e.method="textDocument/onTypeFormatting",e.type=new W.ProtocolRequestType(e.method)})(vd=u.DocumentOnTypeFormattingRequest||(u.DocumentOnTypeFormattingRequest={}));var yd;(function(e){e.Identifier=1})(yd=u.PrepareSupportDefaultBehavior||(u.PrepareSupportDefaultBehavior={}));var _d;(function(e){e.method="textDocument/rename",e.type=new W.ProtocolRequestType(e.method)})(_d=u.RenameRequest||(u.RenameRequest={}));var bd;(function(e){e.method="textDocument/prepareRename",e.type=new W.ProtocolRequestType(e.method)})(bd=u.PrepareRenameRequest||(u.PrepareRenameRequest={}));var Rd;(function(e){e.type=new W.ProtocolRequestType("workspace/executeCommand")})(Rd=u.ExecuteCommandRequest||(u.ExecuteCommandRequest={}));var wd;(function(e){e.type=new W.ProtocolRequestType("workspace/applyEdit")})(wd=u.ApplyWorkspaceEditRequest||(u.ApplyWorkspaceEditRequest={}))});var sa=D(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.createProtocolConnection=void 0;var oa=Ht();function qd(e,t,n,r){return oa.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),oa.createMessageConnection(e,t,n,r)}Jn.createProtocolConnection=qd});var aa=D(pe=>{"use strict";var kd=pe&&pe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Un=pe&&pe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&kd(t,e,n)};Object.defineProperty(pe,"__esModule",{value:!0});pe.LSPErrorCodes=pe.createProtocolConnection=void 0;Un(Ht(),pe);Un(Ns(),pe);Un(ue(),pe);Un(ia(),pe);var Cd=sa();Object.defineProperty(pe,"createProtocolConnection",{enumerable:!0,get:function(){return Cd.createProtocolConnection}});var Td;(function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Td=pe.LSPErrorCodes||(pe.LSPErrorCodes={}))});var be=D($e=>{"use strict";var Pd=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ca=$e&&$e.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Pd(t,e,n)};Object.defineProperty($e,"__esModule",{value:!0});$e.createProtocolConnection=void 0;var Sd=Ii();ca(Ii(),$e);ca(aa(),$e);function Ed(e,t,n,r){return Sd.createMessageConnection(e,t,n,r)}$e.createProtocolConnection=Ed});var Qi=D(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.generateUuid=Se.parse=Se.isUUID=Se.v4=Se.empty=void 0;var pn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},z=class extends pn{constructor(){super([z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),"-",z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),"-","4",z._randomHex(),z._randomHex(),z._randomHex(),"-",z._oneOf(z._timeHighBits),z._randomHex(),z._randomHex(),z._randomHex(),"-",z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex(),z._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return z._oneOf(z._chars)}};z._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];z._timeHighBits=["8","9","a","b"];Se.empty=new pn("00000000-0000-0000-0000-000000000000");function ua(){return new z}Se.v4=ua;var Dd=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function la(e){return Dd.test(e)}Se.isUUID=la;function Od(e){if(!la(e))throw new Error("invalid uuid");return new pn(e)}Se.parse=Od;function Nd(){return ua().asHex()}Se.generateUuid=Nd});var fa=D(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.attachPartialResult=ut.ProgressFeature=ut.attachWorkDone=void 0;var ct=be(),jd=Qi(),ze=class{constructor(t,n){this._connection=t,this._token=n,ze.Instances.set(this._token,this)}begin(t,n,r,i){let a={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,a)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,r)}done(){ze.Instances.delete(this._token),this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,{kind:"end"})}};ze.Instances=new Map;var Xn=class extends ze{constructor(t,n){super(t,n),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},vn=class{constructor(){}begin(){}report(){}done(){}},Qn=class extends vn{constructor(){super(),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Md(e,t){if(t===void 0||t.workDoneToken===void 0)return new vn;let n=t.workDoneToken;return delete t.workDoneToken,new ze(e,n)}ut.attachWorkDone=Md;var Fd=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){var n;((n=t?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(ct.WorkDoneProgressCancelNotification.type,r=>{let i=ze.Instances.get(r.token);(i instanceof Xn||i instanceof Qn)&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new vn:new ze(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=jd.generateUuid();return this.connection.sendRequest(ct.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Xn(this.connection,t))}else return Promise.resolve(new Qn)}};ut.ProgressFeature=Fd;var Yi;(function(e){e.type=new ct.ProgressType})(Yi||(Yi={}));var Zi=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Yi.type,this._token,t)}};function xd(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new Zi(e,n)}ut.attachPartialResult=xd});var da=D(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.ConfigurationFeature=void 0;var Ad=be(),Ld=Nn(),Id=e=>class extends e{getConfiguration(t){return t?Ld.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Ad.ConfigurationRequest.type,n).then(r=>Array.isArray(t)?r:r[0])}};Yn.ConfigurationFeature=Id});var ha=D(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.WorkspaceFoldersFeature=void 0;var Zn=be(),Wd=e=>class extends e{initialize(t){let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Zn.Emitter,this.connection.onNotification(Zn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Zn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Zn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Kn.WorkspaceFoldersFeature=Wd});var ga=D(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.CallHierarchyFeature=void 0;var Ki=be(),Hd=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Ki.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:t=>{let n=Ki.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=Ki.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Vn.CallHierarchyFeature=Hd});var to=D(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.SemanticTokensBuilder=Bt.SemanticTokensFeature=void 0;var Vi=be(),$d=e=>class extends e{get semanticTokens(){return{on:t=>{let n=Vi.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=Vi.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=Vi.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Bt.SemanticTokensFeature=$d;var eo=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,a){let l=t,p=n;this._dataLen>0&&(l-=this._prevLine,l===0&&(p-=this._prevChar)),this._data[this._dataLen++]=l,this._data[this._dataLen++]=p,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<t&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<t){let i=0;for(;i<n&&i<t&&this._prevData[t-1-i]===this._data[n-1-i];)i++;let a=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:t-i-r,data:a}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<t?{resultId:this.id,edits:[{start:r,deleteCount:t-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Bt.SemanticTokensBuilder=eo});var ma=D(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.ShowDocumentFeature=void 0;var zd=be(),Bd=e=>class extends e{showDocument(t){return this.connection.sendRequest(zd.ShowDocumentRequest.type,t)}};er.ShowDocumentFeature=Bd});var pa=D(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.FileOperationsFeature=void 0;var Gt=be(),Gd=e=>class extends e{onDidCreateFiles(t){this.connection.onNotification(Gt.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){this.connection.onNotification(Gt.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){this.connection.onNotification(Gt.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Gt.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Gt.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Gt.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};tr.FileOperationsFeature=Gd});var va=D(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.LinkedEditingRangeFeature=void 0;var Jd=be(),Ud=e=>class extends e{onLinkedEditingRange(t){this.connection.onRequest(Jd.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};nr.LinkedEditingRangeFeature=Ud});var ya=D(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.MonikerFeature=void 0;var Xd=be(),Qd=e=>class extends e{get moniker(){return{on:t=>{let n=Xd.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};rr.MonikerFeature=Qd});var co=D(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createConnection=G.combineFeatures=G.combineLanguagesFeatures=G.combineWorkspaceFeatures=G.combineWindowFeatures=G.combineClientFeatures=G.combineTracerFeatures=G.combineTelemetryFeatures=G.combineConsoleFeatures=G._LanguagesImpl=G.BulkUnregistration=G.BulkRegistration=G.ErrorMessageTracker=G.TextDocuments=void 0;var E=be(),Ee=Nn(),ro=Qi(),H=fa(),Yd=da(),Zd=ha(),Kd=ga(),Vd=to(),eh=ma(),th=pa(),nh=va(),rh=ya();function no(e){if(e!==null)return e}var io=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new E.Emitter,this._onDidOpen=new E.Emitter,this._onDidClose=new E.Emitter,this._onDidSave=new E.Emitter,this._onWillSave=new E.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=E.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let a=Object.freeze({document:i});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)}),t.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let a=this._documents[r.uri],{version:l}=r;if(l==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);a=this._configuration.update(a,i,l),this._documents[r.uri]=a,this._onDidChangeContent.fire(Object.freeze({document:a}))}),t.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),t.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),t.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),t.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};G.TextDocuments=io;var oo=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};G.ErrorMessageTracker=oo;var ir=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(E.MessageType.Error,t)}warn(t){this.send(E.MessageType.Warning,t)}info(t){this.send(E.MessageType.Info,t)}log(t){this.send(E.MessageType.Log,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(E.LogMessageNotification.type,{type:t,message:n})}},so=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:E.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(no)}showWarningMessage(t,...n){let r={type:E.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(no)}showInformationMessage(t,...n){let r={type:E.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(E.ShowMessageRequest.type,r).then(no)}},_a=eh.ShowDocumentFeature(H.ProgressFeature(so)),ih;(function(e){function t(){return new or}e.create=t})(ih=G.BulkRegistration||(G.BulkRegistration={}));var or=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=Ee.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=ro.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},oh;(function(e){function t(){return new yn(void 0,[])}e.create=t})(oh=G.BulkUnregistration||(G.BulkUnregistration={}));var yn=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(E.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=Ee.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(E.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},sr=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof or?this.registerMany(t):t instanceof yn?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let i=Ee.string(n)?n:n.method,a=ro.generateUuid(),l={registrations:[{id:a,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(E.RegistrationRequest.type,l).then(p=>(t.add({id:a,method:i}),t),p=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(p)))}registerSingle2(t,n){let r=Ee.string(t)?t:t.method,i=ro.generateUuid(),a={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(E.RegistrationRequest.type,a).then(l=>E.Disposable.create(()=>{this.unregisterSingle(i,r)}),l=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(l)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(E.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(E.RegistrationRequest.type,n).then(()=>new yn(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},ao=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(E.ApplyWorkspaceEditRequest.type,r)}},ba=th.FileOperationsFeature(Zd.WorkspaceFoldersFeature(Yd.ConfigurationFeature(ao))),ar=class{constructor(){this._trace=E.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==E.Trace.Off&&this.connection.sendNotification(E.LogTraceNotification.type,{message:t,verbose:this._trace===E.Trace.Verbose?n:void 0})}},cr=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(E.TelemetryEventNotification.type,t)}},ur=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return H.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,n){return H.attachPartialResult(this.connection,n)}};G._LanguagesImpl=ur;var Ra=rh.MonikerFeature(nh.LinkedEditingRangeFeature(Vd.SemanticTokensFeature(Kd.CallHierarchyFeature(ur))));function wa(e,t){return function(n){return t(e(n))}}G.combineConsoleFeatures=wa;function qa(e,t){return function(n){return t(e(n))}}G.combineTelemetryFeatures=qa;function ka(e,t){return function(n){return t(e(n))}}G.combineTracerFeatures=ka;function Ca(e,t){return function(n){return t(e(n))}}G.combineClientFeatures=Ca;function Ta(e,t){return function(n){return t(e(n))}}G.combineWindowFeatures=Ta;function Pa(e,t){return function(n){return t(e(n))}}G.combineWorkspaceFeatures=Pa;function sh(e,t){return function(n){return t(e(n))}}G.combineLanguagesFeatures=sh;function ah(e,t){function n(i,a,l){return i&&a?l(i,a):i||a}return{__brand:"features",console:n(e.console,t.console,wa),tracer:n(e.tracer,t.tracer,ka),telemetry:n(e.telemetry,t.telemetry,qa),client:n(e.client,t.client,Ca),window:n(e.window,t.window,Ta),workspace:n(e.workspace,t.workspace,Pa)}}G.combineFeatures=ah;function ch(e,t,n){let r=n&&n.console?new(n.console(ir)):new ir,i=e(r);r.rawAttach(i);let a=n&&n.tracer?new(n.tracer(ar)):new ar,l=n&&n.telemetry?new(n.telemetry(cr)):new cr,p=n&&n.client?new(n.client(sr)):new sr,g=n&&n.window?new(n.window(_a)):new _a,b=n&&n.workspace?new(n.workspace(ba)):new ba,R=n&&n.languages?new(n.languages(Ra)):new Ra,T=[r,a,l,p,g,b,R];function q(y){return y instanceof Promise?y:Ee.thenable(y)?new Promise((v,k)=>{y.then(O=>v(O),O=>k(O))}):Promise.resolve(y)}let P,S,j,M={listen:()=>i.listen(),sendRequest:(y,...v)=>i.sendRequest(Ee.string(y)?y:y.method,...v),onRequest:(y,v)=>i.onRequest(y,v),sendNotification:(y,v)=>{let k=Ee.string(y)?y:y.method;arguments.length===1?i.sendNotification(k):i.sendNotification(k,v)},onNotification:(y,v)=>i.onNotification(y,v),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:y=>S=y,onInitialized:y=>i.onNotification(E.InitializedNotification.type,y),onShutdown:y=>P=y,onExit:y=>j=y,get console(){return r},get telemetry(){return l},get tracer(){return a},get client(){return p},get window(){return g},get workspace(){return b},get languages(){return R},onDidChangeConfiguration:y=>i.onNotification(E.DidChangeConfigurationNotification.type,y),onDidChangeWatchedFiles:y=>i.onNotification(E.DidChangeWatchedFilesNotification.type,y),__textDocumentSync:void 0,onDidOpenTextDocument:y=>i.onNotification(E.DidOpenTextDocumentNotification.type,y),onDidChangeTextDocument:y=>i.onNotification(E.DidChangeTextDocumentNotification.type,y),onDidCloseTextDocument:y=>i.onNotification(E.DidCloseTextDocumentNotification.type,y),onWillSaveTextDocument:y=>i.onNotification(E.WillSaveTextDocumentNotification.type,y),onWillSaveTextDocumentWaitUntil:y=>i.onRequest(E.WillSaveTextDocumentWaitUntilRequest.type,y),onDidSaveTextDocument:y=>i.onNotification(E.DidSaveTextDocumentNotification.type,y),sendDiagnostics:y=>i.sendNotification(E.PublishDiagnosticsNotification.type,y),onHover:y=>i.onRequest(E.HoverRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onCompletion:y=>i.onRequest(E.CompletionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCompletionResolve:y=>i.onRequest(E.CompletionResolveRequest.type,y),onSignatureHelp:y=>i.onRequest(E.SignatureHelpRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDeclaration:y=>i.onRequest(E.DeclarationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDefinition:y=>i.onRequest(E.DefinitionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onTypeDefinition:y=>i.onRequest(E.TypeDefinitionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onImplementation:y=>i.onRequest(E.ImplementationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onReferences:y=>i.onRequest(E.ReferencesRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentHighlight:y=>i.onRequest(E.DocumentHighlightRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentSymbol:y=>i.onRequest(E.DocumentSymbolRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onWorkspaceSymbol:y=>i.onRequest(E.WorkspaceSymbolRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeAction:y=>i.onRequest(E.CodeActionRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeActionResolve:y=>i.onRequest(E.CodeActionResolveRequest.type,(v,k)=>y(v,k)),onCodeLens:y=>i.onRequest(E.CodeLensRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onCodeLensResolve:y=>i.onRequest(E.CodeLensResolveRequest.type,(v,k)=>y(v,k)),onDocumentFormatting:y=>i.onRequest(E.DocumentFormattingRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDocumentRangeFormatting:y=>i.onRequest(E.DocumentRangeFormattingRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onDocumentOnTypeFormatting:y=>i.onRequest(E.DocumentOnTypeFormattingRequest.type,(v,k)=>y(v,k)),onRenameRequest:y=>i.onRequest(E.RenameRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),onPrepareRename:y=>i.onRequest(E.PrepareRenameRequest.type,(v,k)=>y(v,k)),onDocumentLinks:y=>i.onRequest(E.DocumentLinkRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onDocumentLinkResolve:y=>i.onRequest(E.DocumentLinkResolveRequest.type,(v,k)=>y(v,k)),onDocumentColor:y=>i.onRequest(E.DocumentColorRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onColorPresentation:y=>i.onRequest(E.ColorPresentationRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onFoldingRanges:y=>i.onRequest(E.FoldingRangeRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onSelectionRanges:y=>i.onRequest(E.SelectionRangeRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),H.attachPartialResult(i,v))),onExecuteCommand:y=>i.onRequest(E.ExecuteCommandRequest.type,(v,k)=>y(v,k,H.attachWorkDone(i,v),void 0)),dispose:()=>i.dispose()};for(let y of T)y.attach(M);return i.onRequest(E.InitializeRequest.type,y=>{t.initialize(y),Ee.string(y.trace)&&(a.trace=E.Trace.fromString(y.trace));for(let v of T)v.initialize(y.capabilities);if(S){let v=S(y,new E.CancellationTokenSource().token,H.attachWorkDone(i,y),void 0);return q(v).then(k=>{if(k instanceof E.ResponseError)return k;let O=k;O||(O={capabilities:{}});let A=O.capabilities;A||(A={},O.capabilities=A),A.textDocumentSync===void 0||A.textDocumentSync===null?A.textDocumentSync=Ee.number(M.__textDocumentSync)?M.__textDocumentSync:E.TextDocumentSyncKind.None:!Ee.number(A.textDocumentSync)&&!Ee.number(A.textDocumentSync.change)&&(A.textDocumentSync.change=Ee.number(M.__textDocumentSync)?M.__textDocumentSync:E.TextDocumentSyncKind.None);for(let oe of T)oe.fillServerCapabilities(A);return O})}else{let v={capabilities:{textDocumentSync:E.TextDocumentSyncKind.None}};for(let k of T)k.fillServerCapabilities(v.capabilities);return v}}),i.onRequest(E.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,P)return P(new E.CancellationTokenSource().token)}),i.onNotification(E.ExitNotification.type,()=>{try{j&&j()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(E.SetTraceNotification.type,y=>{a.trace=E.Trace.fromString(y.value)}),M}G.createConnection=ch});var Ea=D(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.resolveModulePath=ve.FileSystem=ve.resolveGlobalYarnPath=ve.resolveGlobalNodePath=ve.resolve=ve.uriToFilePath=void 0;var uh=require("url"),Le=require("path"),uo=require("fs"),ho=require("child_process");function lh(e){let t=uh.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],l=n[1];a.length===0&&l.length>1&&l[1]===":"&&n.shift()}return Le.normalize(n.join("/"))}ve.uriToFilePath=lh;function lo(){return process.platform==="win32"}function lr(e,t,n,r){let i="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((l,p)=>{let g=process.env,b=Object.create(null);Object.keys(g).forEach(R=>b[R]=g[R]),t&&uo.existsSync(t)&&(b[i]?b[i]=t+Le.delimiter+b[i]:b[i]=t,r&&r(`NODE_PATH value is: ${b[i]}`)),b.ELECTRON_RUN_AS_NODE="1";try{let R=ho.fork("",[],{cwd:n,env:b,execArgv:["-e",a]});if(R.pid===void 0){p(new Error(`Starting process to resolve node module  ${e} failed`));return}R.on("error",q=>{p(q)}),R.on("message",q=>{q.c==="r"&&(R.send({c:"e"}),q.s?l(q.r):p(new Error(`Failed to resolve module: ${e}`)))});let T={c:"rs",a:e};R.send(T)}catch(R){p(R)}})}ve.resolve=lr;function fo(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};lo()&&(t="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let a=ho.spawnSync(t,["config","get","prefix"],r).stdout;if(!a){e&&e("'npm config get prefix' didn't return a value.");return}let l=a.trim();return e&&e(`'npm config get prefix' value is: ${l}`),l.length>0?lo()?Le.join(l,"node_modules"):Le.join(l,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}ve.resolveGlobalNodePath=fo;function fh(e){let t="yarn",n={encoding:"utf8"};lo()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=ho.spawnSync(t,["global","dir","--json"],n),a=i.stdout;if(!a){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let l=a.trim().split(/\r?\n/);for(let p of l)try{let g=JSON.parse(p);if(g.type==="log")return Le.join(g.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}ve.resolveGlobalYarnPath=fh;var Sa;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!uo.existsSync(__filename.toUpperCase())||!uo.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(i,a){return n()?Le.normalize(a).indexOf(Le.normalize(i))===0:Le.normalize(a).toLowerCase().indexOf(Le.normalize(i).toLowerCase())===0}e.isParent=r})(Sa=ve.FileSystem||(ve.FileSystem={}));function dh(e,t,n,r){return n?(Le.isAbsolute(n)||(n=Le.join(e,n)),lr(t,n,n,r).then(i=>Sa.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>lr(t,fo(r),e,r))):lr(t,fo(r),e,r)}ve.resolveModulePath=dh});var go=D((tp,Da)=>{"use strict";Da.exports=be()});var Na=D(qe=>{"use strict";var hh=qe&&qe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Oa=qe&&qe.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&hh(t,e,n)};Object.defineProperty(qe,"__esModule",{value:!0});qe.ProposedFeatures=qe.SemanticTokensBuilder=void 0;var gh=to();Object.defineProperty(qe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return gh.SemanticTokensBuilder}});Oa(be(),qe);Oa(co(),qe);var mh;(function(e){e.all={__brand:"features"}})(mh=qe.ProposedFeatures||(qe.ProposedFeatures={}))});var xa=D(ke=>{"use strict";var ph=ke&&ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ma=ke&&ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ph(t,e,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.createConnection=ke.Files=void 0;var mo=Nn(),vh=co(),_n=Ea(),Ct=go();Ma(go(),ke);Ma(Na(),ke);var yh;(function(e){e.uriToFilePath=_n.uriToFilePath,e.resolveGlobalNodePath=_n.resolveGlobalNodePath,e.resolveGlobalYarnPath=_n.resolveGlobalYarnPath,e.resolve=_n.resolve,e.resolveModulePath=_n.resolveModulePath})(yh=ke.Files||(ke.Files={}));var ja;function fr(){if(ja!==void 0)try{ja.end()}catch{}}var Jt=!1,Fa;function _h(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(Fa=setInterval(()=>{try{process.kill(r,0)}catch{fr(),process.exit(Jt?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let i=r.split("=");i[0]===e&&t(i[1])}}}_h();var bh={initialize:e=>{let t=e.processId;mo.number(t)&&Fa===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(Jt?0:1)}},3e3)},get shutdownReceived(){return Jt},set shutdownReceived(e){Jt=e},exit:e=>{fr(),process.exit(e)}};function Rh(e,t,n,r){let i,a,l,p;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=n,n=r),Ct.ConnectionStrategy.is(e)||Ct.ConnectionOptions.is(e)?p=e:(a=e,l=t,p=n),wh(a,l,p,i)}ke.createConnection=Rh;function wh(e,t,n,r){if(!e&&!t&&process.argv.length>2){let p,g,b=process.argv.slice(2);for(let R=0;R<b.length;R++){let T=b[R];if(T==="--node-ipc"){e=new Ct.IPCMessageReader(process),t=new Ct.IPCMessageWriter(process);break}else if(T==="--stdio"){e=process.stdin,t=process.stdout;break}else if(T==="--socket"){p=parseInt(b[R+1]);break}else if(T==="--pipe"){g=b[R+1];break}else{var i=T.split("=");if(i[0]==="--socket"){p=parseInt(i[1]);break}else if(i[0]==="--pipe"){g=i[1];break}}}if(p){let R=Ct.createServerSocketTransport(p);e=R[0],t=R[1]}else if(g){let R=Ct.createServerPipeTransport(g);e=R[0],t=R[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(mo.func(e.read)&&mo.func(e.on)){let p=e;p.on("end",()=>{fr(),process.exit(Jt?0:1)}),p.on("close",()=>{fr(),process.exit(Jt?0:1)})}let l=p=>Ct.createProtocolConnection(e,t,p,n);return vh.createConnection(l,bh,r)}});var La=D((ip,Aa)=>{"use strict";Aa.exports=xa()});var Wa=D((Ia,dr)=>{(function(e){if(typeof dr=="object"&&typeof dr.exports=="object"){var t=e(require,Ia);t!==void 0&&(dr.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=void 0;class n{constructor(b,R,T,q){this._uri=b,this._languageId=R,this._version=T,this._content=q,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(b){if(b){let R=this.offsetAt(b.start),T=this.offsetAt(b.end);return this._content.substring(R,T)}return this._content}update(b,R){for(let T of b)if(n.isIncremental(T)){let q=l(T.range),P=this.offsetAt(q.start),S=this.offsetAt(q.end);this._content=this._content.substring(0,P)+T.text+this._content.substring(S,this._content.length);let j=Math.max(q.start.line,0),M=Math.max(q.end.line,0),y=this._lineOffsets,v=a(T.text,!1,P);if(M-j===v.length)for(let O=0,A=v.length;O<A;O++)y[O+j+1]=v[O];else v.length<1e4?y.splice(j+1,M-j,...v):this._lineOffsets=y=y.slice(0,j+1).concat(v,y.slice(M+1));let k=T.text.length-(S-P);if(k!==0)for(let O=j+1+v.length,A=y.length;O<A;O++)y[O]=y[O]+k}else if(n.isFull(T))this._content=T.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=R}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=a(this._content,!0)),this._lineOffsets}positionAt(b){b=Math.max(Math.min(b,this._content.length),0);let R=this.getLineOffsets(),T=0,q=R.length;if(q===0)return{line:0,character:b};for(;T<q;){let S=Math.floor((T+q)/2);R[S]>b?q=S:T=S+1}let P=T-1;return{line:P,character:b-R[P]}}offsetAt(b){let R=this.getLineOffsets();if(b.line>=R.length)return this._content.length;if(b.line<0)return 0;let T=R[b.line],q=b.line+1<R.length?R[b.line+1]:this._content.length;return Math.max(Math.min(T+b.character,q),T)}get lineCount(){return this.getLineOffsets().length}static isIncremental(b){let R=b;return R!=null&&typeof R.text=="string"&&R.range!==void 0&&(R.rangeLength===void 0||typeof R.rangeLength=="number")}static isFull(b){let R=b;return R!=null&&typeof R.text=="string"&&R.range===void 0&&R.rangeLength===void 0}}var r;(function(g){function b(q,P,S,j){return new n(q,P,S,j)}g.create=b;function R(q,P,S){if(q instanceof n)return q.update(P,S),q;throw new Error("TextDocument.update: document must be created by TextDocument.create")}g.update=R;function T(q,P){let S=q.getText(),j=i(P.map(p),(v,k)=>{let O=v.range.start.line-k.range.start.line;return O===0?v.range.start.character-k.range.start.character:O}),M=0,y=[];for(let v of j){let k=q.offsetAt(v.range.start);if(k<M)throw new Error("Overlapping edit");k>M&&y.push(S.substring(M,k)),v.newText.length&&y.push(v.newText),M=q.offsetAt(v.range.end)}return y.push(S.substr(M)),y.join("")}g.applyEdits=T})(r=t.TextDocument||(t.TextDocument={}));function i(g,b){if(g.length<=1)return g;let R=g.length/2|0,T=g.slice(0,R),q=g.slice(R);i(T,b),i(q,b);let P=0,S=0,j=0;for(;P<T.length&&S<q.length;)b(T[P],q[S])<=0?g[j++]=T[P++]:g[j++]=q[S++];for(;P<T.length;)g[j++]=T[P++];for(;S<q.length;)g[j++]=q[S++];return g}function a(g,b,R=0){let T=b?[R]:[];for(let q=0;q<g.length;q++){let P=g.charCodeAt(q);(P===13||P===10)&&(P===13&&q+1<g.length&&g.charCodeAt(q+1)===10&&q++,T.push(R+q+1))}return T}function l(g){let b=g.start,R=g.end;return b.line>R.line||b.line===R.line&&b.character>R.character?{start:R,end:b}:g}function p(g){let b=l(g.range);return b!==g.range?{newText:g.newText,range:b}:g}})});var Ha=D(po=>{var Tt=require("path"),ft=process.platform==="win32",lt=require("fs"),qh=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function kh(){var e;if(qh){var t=new Error;e=n}else e=r;return e;function n(i){i&&(t.message=i.message,i=t,r(i))}function r(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function Ch(e){return typeof e=="function"?e:kh()}var op=Tt.normalize;ft?Ze=/(.*?)(?:[\/\\]+|$)/g:Ze=/(.*?)(?:[\/]+|$)/g;var Ze;ft?bn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:bn=/^[\/]*/;var bn;po.realpathSync=function(t,n){if(t=Tt.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];var r=t,i={},a={},l,p,g,b;R();function R(){var M=bn.exec(t);l=M[0].length,p=M[0],g=M[0],b="",ft&&!a[g]&&(lt.lstatSync(g),a[g]=!0)}for(;l<t.length;){Ze.lastIndex=l;var T=Ze.exec(t);if(b=p,p+=T[0],g=b+T[1],l=Ze.lastIndex,!(a[g]||n&&n[g]===g)){var q;if(n&&Object.prototype.hasOwnProperty.call(n,g))q=n[g];else{var P=lt.lstatSync(g);if(!P.isSymbolicLink()){a[g]=!0,n&&(n[g]=g);continue}var S=null;if(!ft){var j=P.dev.toString(32)+":"+P.ino.toString(32);i.hasOwnProperty(j)&&(S=i[j])}S===null&&(lt.statSync(g),S=lt.readlinkSync(g)),q=Tt.resolve(b,S),n&&(n[g]=q),ft||(i[j]=S)}t=Tt.resolve(q,t.slice(l)),R()}}return n&&(n[r]=t),t};po.realpath=function(t,n,r){if(typeof r!="function"&&(r=Ch(n),n=null),t=Tt.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return process.nextTick(r.bind(null,null,n[t]));var i=t,a={},l={},p,g,b,R;T();function T(){var M=bn.exec(t);p=M[0].length,g=M[0],b=M[0],R="",ft&&!l[b]?lt.lstat(b,function(y){if(y)return r(y);l[b]=!0,q()}):process.nextTick(q)}function q(){if(p>=t.length)return n&&(n[i]=t),r(null,t);Ze.lastIndex=p;var M=Ze.exec(t);return R=g,g+=M[0],b=R+M[1],p=Ze.lastIndex,l[b]||n&&n[b]===b?process.nextTick(q):n&&Object.prototype.hasOwnProperty.call(n,b)?j(n[b]):lt.lstat(b,P)}function P(M,y){if(M)return r(M);if(!y.isSymbolicLink())return l[b]=!0,n&&(n[b]=b),process.nextTick(q);if(!ft){var v=y.dev.toString(32)+":"+y.ino.toString(32);if(a.hasOwnProperty(v))return S(null,a[v],b)}lt.stat(b,function(k){if(k)return r(k);lt.readlink(b,function(O,A){ft||(a[v]=A),S(O,A)})})}function S(M,y,v){if(M)return r(M);var k=Tt.resolve(R,y);n&&(n[v]=k),j(k)}function j(M){t=Tt.resolve(M,t.slice(p)),T()}}});var bo=D((ap,Ga)=>{Ga.exports=dt;dt.realpath=dt;dt.sync=_o;dt.realpathSync=_o;dt.monkeypatch=Ph;dt.unmonkeypatch=Sh;var Ut=require("fs"),vo=Ut.realpath,yo=Ut.realpathSync,Th=process.version,$a=/^v[0-5]\./.test(Th),za=Ha();function Ba(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function dt(e,t,n){if($a)return vo(e,t,n);typeof t=="function"&&(n=t,t=null),vo(e,t,function(r,i){Ba(r)?za.realpath(e,t,n):n(r,i)})}function _o(e,t){if($a)return yo(e,t);try{return yo(e,t)}catch(n){if(Ba(n))return za.realpathSync(e,t);throw n}}function Ph(){Ut.realpath=dt,Ut.realpathSync=_o}function Sh(){Ut.realpath=vo,Ut.realpathSync=yo}});var Ua=D((cp,Ja)=>{Ja.exports=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);Eh(i)?n.push.apply(n,i):n.push(i)}return n};var Eh=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Ka=D((up,Za)=>{"use strict";Za.exports=Qa;function Qa(e,t,n){e instanceof RegExp&&(e=Xa(e,n)),t instanceof RegExp&&(t=Xa(t,n));var r=Ya(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function Xa(e,t){var n=t.match(e);return n?n[0]:null}Qa.range=Ya;function Ya(e,t,n){var r,i,a,l,p,g=n.indexOf(e),b=n.indexOf(t,g+1),R=g;if(g>=0&&b>0){for(r=[],a=n.length;R>=0&&!p;)R==g?(r.push(R),g=n.indexOf(e,R+1)):r.length==1?p=[r.pop(),b]:(i=r.pop(),i<a&&(a=i,l=b),b=n.indexOf(t,R+1)),R=g<b&&g>=0?g:b;r.length&&(p=[a,l])}return p}});var sc=D((lp,oc)=>{var Dh=Ua(),Va=Ka();oc.exports=jh;var ec="\0SLASH"+Math.random()+"\0",tc="\0OPEN"+Math.random()+"\0",wo="\0CLOSE"+Math.random()+"\0",nc="\0COMMA"+Math.random()+"\0",rc="\0PERIOD"+Math.random()+"\0";function Ro(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Oh(e){return e.split("\\\\").join(ec).split("\\{").join(tc).split("\\}").join(wo).split("\\,").join(nc).split("\\.").join(rc)}function Nh(e){return e.split(ec).join("\\").split(tc).join("{").split(wo).join("}").split(nc).join(",").split(rc).join(".")}function ic(e){if(!e)return[""];var t=[],n=Va("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,a=n.post,l=r.split(",");l[l.length-1]+="{"+i+"}";var p=ic(a);return a.length&&(l[l.length-1]+=p.shift(),l.push.apply(l,p)),t.push.apply(t,l),t}function jh(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Xt(Oh(e),!0).map(Nh)):[]}function Mh(e){return"{"+e+"}"}function Fh(e){return/^-?0\d/.test(e)}function xh(e,t){return e<=t}function Ah(e,t){return e>=t}function Xt(e,t){var n=[],r=Va("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),l=i||a,p=r.body.indexOf(",")>=0;if(!l&&!p)return r.post.match(/,.*\}/)?(e=r.pre+"{"+r.body+wo+r.post,Xt(e)):[e];var g;if(l)g=r.body.split(/\.\./);else if(g=ic(r.body),g.length===1&&(g=Xt(g[0],!1).map(Mh),g.length===1)){var R=r.post.length?Xt(r.post,!1):[""];return R.map(function(Ne){return r.pre+g[0]+Ne})}var b=r.pre,R=r.post.length?Xt(r.post,!1):[""],T;if(l){var q=Ro(g[0]),P=Ro(g[1]),S=Math.max(g[0].length,g[1].length),j=g.length==3?Math.abs(Ro(g[2])):1,M=xh,y=P<q;y&&(j*=-1,M=Ah);var v=g.some(Fh);T=[];for(var k=q;M(k,P);k+=j){var O;if(a)O=String.fromCharCode(k),O==="\\"&&(O="");else if(O=String(k),v){var A=S-O.length;if(A>0){var oe=new Array(A+1).join("0");k<0?O="-"+oe+O.slice(1):O=oe+O}}T.push(O)}}else T=Dh(g,function(Te){return Xt(Te,!1)});for(var we=0;we<T.length;we++)for(var ge=0;ge<R.length;ge++){var de=b+T[we]+R[ge];(!t||l||de)&&n.push(de)}return n}});var gr=D((fp,dc)=>{dc.exports=De;De.Minimatch=le;var Rn={sep:"/"};try{Rn=require("path")}catch{}var Co=De.GLOBSTAR=le.GLOBSTAR={},Lh=sc(),ac={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qo="[^/]",ko=qo+"*?",Ih="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wh="(?:(?!(?:\\/|^)\\.).)*?",cc=Hh("().*{}+?[]^$\\!");function Hh(e){return e.split("").reduce(function(t,n){return t[n]=!0,t},{})}var lc=/\/+/;De.filter=$h;function $h(e,t){return t=t||{},function(n,r,i){return De(n,e,t)}}function uc(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]}),Object.keys(e).forEach(function(r){n[r]=e[r]}),n}De.defaults=function(e){if(!e||!Object.keys(e).length)return De;var t=De,n=function(i,a,l){return t.minimatch(i,a,uc(e,l))};return n.Minimatch=function(i,a){return new t.Minimatch(i,uc(e,a))},n};le.defaults=function(e){return!e||!Object.keys(e).length?le:De.defaults(e).Minimatch};function De(e,t,n){if(typeof t!="string")throw new TypeError("glob pattern string required");return n||(n={}),!n.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new le(t,n).match(e)}function le(e,t){if(!(this instanceof le))return new le(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),Rn.sep!=="/"&&(e=e.split(Rn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}le.prototype.debug=function(){};le.prototype.make=zh;function zh(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(lc)}),this.debug(this.pattern,n),n=n.map(function(r,i,a){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}le.prototype.parseNegate=Bh;function Bh(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,a=e.length;i<a&&e.charAt(i)==="!";i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}De.braceExpand=function(e,t){return fc(e,t)};le.prototype.braceExpand=fc;function fc(e,t){if(t||(this instanceof le?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,typeof e>"u")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Lh(e)}le.prototype.parse=Gh;var hr={};function Gh(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&e==="**")return Co;if(e==="")return"";var r="",i=!!n.nocase,a=!1,l=[],p=[],g,b=!1,R=-1,T=-1,q=e.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",P=this;function S(){if(g){switch(g){case"*":r+=ko,i=!0;break;case"?":r+=qo,i=!0;break;default:r+="\\"+g;break}P.debug("clearStateChar %j %j",g,r),g=!1}}for(var j=0,M=e.length,y;j<M&&(y=e.charAt(j));j++){if(this.debug("%s	%s %s %j",e,j,r,y),a&&cc[y]){r+="\\"+y,a=!1;continue}switch(y){case"/":return!1;case"\\":S(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,j,r,y),b){this.debug("  in class"),y==="!"&&j===T+1&&(y="^"),r+=y;continue}P.debug("call clearStateChar %j",g),S(),g=y,n.noext&&S();continue;case"(":if(b){r+="(";continue}if(!g){r+="\\(";continue}l.push({type:g,start:j-1,reStart:r.length,open:ac[g].open,close:ac[g].close}),r+=g==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",g,r),g=!1;continue;case")":if(b||!l.length){r+="\\)";continue}S(),i=!0;var v=l.pop();r+=v.close,v.type==="!"&&p.push(v),v.reEnd=r.length;continue;case"|":if(b||!l.length||a){r+="\\|",a=!1;continue}S(),r+="|";continue;case"[":if(S(),b){r+="\\"+y;continue}b=!0,T=j,R=r.length,r+=y;continue;case"]":if(j===T+1||!b){r+="\\"+y,a=!1;continue}if(b){var k=e.substring(T+1,j);try{RegExp("["+k+"]")}catch{var O=this.parse(k,hr);r=r.substr(0,R)+"\\["+O[0]+"\\]",i=i||O[1],b=!1;continue}}i=!0,b=!1,r+=y;continue;default:S(),a?a=!1:cc[y]&&!(y==="^"&&b)&&(r+="\\"),r+=y}}for(b&&(k=e.substr(T+1),O=this.parse(k,hr),r=r.substr(0,R)+"\\["+O[0],i=i||O[1]),v=l.pop();v;v=l.pop()){var A=r.slice(v.reStart+v.open.length);this.debug("setting tail",r,v),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(et,Nt,mt){return mt||(mt="\\"),Nt+Nt+mt+"|"}),this.debug(`tail=%j
   %s`,A,A,v,r);var oe=v.type==="*"?ko:v.type==="?"?qo:"\\"+v.type;i=!0,r=r.slice(0,v.reStart)+oe+"\\("+A}S(),a&&(r+="\\\\");var we=!1;switch(r.charAt(0)){case".":case"[":case"(":we=!0}for(var ge=p.length-1;ge>-1;ge--){var de=p[ge],Te=r.slice(0,de.reStart),Ne=r.slice(de.reStart,de.reEnd-8),Ie=r.slice(de.reEnd-8,de.reEnd),We=r.slice(de.reEnd);Ie+=We;var Vt=Te.split("(").length-1,gt=We;for(j=0;j<Vt;j++)gt=gt.replace(/\)[+*?]?/,"");We=gt;var Dt="";We===""&&t!==hr&&(Dt="$");var Ve=Te+Ne+We+Dt+Ie;r=Ve}if(r!==""&&i&&(r="(?=.)"+r),we&&(r=q+r),t===hr)return[r,i];if(!i)return Xh(e);var Ot=n.nocase?"i":"";try{var ye=new RegExp("^"+r+"$",Ot)}catch{return new RegExp("$.")}return ye._glob=e,ye._src=r,ye}De.makeRe=function(e,t){return new le(e,t||{}).makeRe()};le.prototype.makeRe=Jh;function Jh(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?ko:t.dot?Ih:Wh,r=t.nocase?"i":"",i=e.map(function(a){return a.map(function(l){return l===Co?n:typeof l=="string"?Qh(l):l._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}De.match=function(e,t,n){n=n||{};var r=new le(t,n);return e=e.filter(function(i){return r.match(i)}),r.options.nonull&&!e.length&&e.push(t),e};le.prototype.match=Uh;function Uh(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var n=this.options;Rn.sep!=="/"&&(e=e.split(Rn.sep).join("/")),e=e.split(lc),this.debug(this.pattern,"split",e);var r=this.set;this.debug(this.pattern,"set",r);var i,a;for(a=e.length-1;a>=0&&(i=e[a],!i);a--);for(a=0;a<r.length;a++){var l=r[a],p=e;n.matchBase&&l.length===1&&(p=[i]);var g=this.matchOne(p,l,t);if(g)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}le.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,l=e.length,p=t.length;i<l&&a<p;i++,a++){this.debug("matchOne loop");var g=t[a],b=e[i];if(this.debug(t,g,b),g===!1)return!1;if(g===Co){this.debug("GLOBSTAR",[t,g,b]);var R=i,T=a+1;if(T===p){for(this.debug("** at the end");i<l;i++)if(e[i]==="."||e[i]===".."||!r.dot&&e[i].charAt(0)===".")return!1;return!0}for(;R<l;){var q=e[R];if(this.debug(`
globstar while`,e,R,t,T,q),this.matchOne(e.slice(R),t.slice(T),n))return this.debug("globstar found match!",R,l,q),!0;if(q==="."||q===".."||!r.dot&&q.charAt(0)==="."){this.debug("dot detected!",e,R,t,T);break}this.debug("globstar swallow a segment, and continue"),R++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,R,t,T),R===l))}var P;if(typeof g=="string"?(r.nocase?P=b.toLowerCase()===g.toLowerCase():P=b===g,this.debug("string match",g,b,P)):(P=b.match(g),this.debug("pattern match",g,b,P)),!P)return!1}if(i===l&&a===p)return!0;if(i===l)return n;if(a===p){var S=i===l-1&&e[i]==="";return S}throw new Error("wtf?")};function Xh(e){return e.replace(/\\(.)/g,"$1")}function Qh(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var hc=D((dp,To)=>{typeof Object.create=="function"?To.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:To.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}});var gc=D((hp,So)=>{try{if(Po=require("util"),typeof Po.inherits!="function")throw"";So.exports=Po.inherits}catch{So.exports=hc()}var Po});var pr=D((gp,mr)=>{"use strict";function mc(e){return e.charAt(0)==="/"}function pc(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,n=t.exec(e),r=n[1]||"",i=Boolean(r&&r.charAt(1)!==":");return Boolean(n[2]||i)}mr.exports=process.platform==="win32"?pc:mc;mr.exports.posix=mc;mr.exports.win32=pc});var Do=D(ht=>{ht.setopts=tg;ht.ownProp=vc;ht.makeAbs=wn;ht.finish=ng;ht.mark=rg;ht.isIgnored=_c;ht.childrenIgnored=ig;function vc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Yh=require("fs"),Qt=require("path"),Zh=gr(),yc=pr(),Eo=Zh.Minimatch;function Kh(e,t){return e.localeCompare(t,"en")}function Vh(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(eg))}function eg(e){var t=null;if(e.slice(-3)==="/**"){var n=e.replace(/(\/\*\*)+$/,"");t=new Eo(n,{dot:!0})}return{matcher:new Eo(e,{dot:!0}),gmatcher:t}}function tg(e,t,n){if(n||(n={}),n.matchBase&&t.indexOf("/")===-1){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=n.strict!==!1,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||Yh,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),Vh(e,n),e.changedCwd=!1;var r=process.cwd();vc(n,"cwd")?(e.cwd=Qt.resolve(n.cwd),e.changedCwd=e.cwd!==r):e.cwd=r,e.root=n.root||Qt.resolve(e.cwd,"/"),e.root=Qt.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=yc(e.cwd)?e.cwd:wn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new Eo(t,n),e.options=e.minimatch.options}function ng(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var a=e.matches[r];if(!a||Object.keys(a).length===0){if(e.nonull){var l=e.minimatch.globSet[r];t?n.push(l):n[l]=!0}}else{var p=Object.keys(a);t?n.push.apply(n,p):p.forEach(function(g){n[g]=!0})}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(Kh)),e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(g){var b=!/\/$/.test(g),R=e.cache[g]||e.cache[wn(e,g)];return b&&R&&(b=R!=="DIR"&&!Array.isArray(R)),b}))}e.ignore.length&&(n=n.filter(function(g){return!_c(e,g)})),e.found=n}function rg(e,t){var n=wn(e,t),r=e.cache[n],i=t;if(r){var a=r==="DIR"||Array.isArray(r),l=t.slice(-1)==="/";if(a&&!l?i+="/":!a&&l&&(i=i.slice(0,-1)),i!==t){var p=wn(e,i);e.statCache[p]=e.statCache[n],e.cache[p]=e.cache[n]}}return i}function wn(e,t){var n=t;return t.charAt(0)==="/"?n=Qt.join(e.root,t):yc(t)||t===""?n=t:e.changedCwd?n=Qt.resolve(e.cwd,t):n=Qt.resolve(t),process.platform==="win32"&&(n=n.replace(/\\/g,"/")),n}function _c(e,t){return e.ignore.length?e.ignore.some(function(n){return n.matcher.match(t)||!!(n.gmatcher&&n.gmatcher.match(t))}):!1}function ig(e,t){return e.ignore.length?e.ignore.some(function(n){return!!(n.gmatcher&&n.gmatcher.match(t))}):!1}});var kc=D((_p,qc)=>{qc.exports=wc;wc.GlobSync=ie;var og=bo(),bc=gr(),pp=bc.Minimatch,vp=jo().Glob,yp=require("util"),Oo=require("path"),Rc=require("assert"),vr=pr(),Pt=Do(),sg=Pt.setopts,No=Pt.ownProp,ag=Pt.childrenIgnored,cg=Pt.isIgnored;function wc(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ie(e,t).found}function ie(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ie))return new ie(e,t);if(sg(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}ie.prototype._finish=function(){if(Rc(this instanceof ie),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=og.realpathSync(i,e.realpathCache);r[a]=!0}catch(l){if(l.syscall==="stat")r[e._makeAbs(i)]=!0;else throw l}})}Pt.finish(this)};ie.prototype._process=function(e,t,n){Rc(this instanceof ie);for(var r=0;typeof e[r]=="string";)r++;var i;switch(r){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,r).join("/");break}var a=e.slice(r),l;i===null?l=".":((vr(i)||vr(e.join("/")))&&(!i||!vr(i))&&(i="/"+i),l=i);var p=this._makeAbs(l);if(!ag(this,l)){var g=a[0]===bc.GLOBSTAR;g?this._processGlobStar(i,l,p,a,t,n):this._processReaddir(i,l,p,a,t,n)}};ie.prototype._processReaddir=function(e,t,n,r,i,a){var l=this._readdir(n,a);if(!!l){for(var p=r[0],g=!!this.minimatch.negate,b=p._glob,R=this.dot||b.charAt(0)===".",T=[],q=0;q<l.length;q++){var P=l[q];if(P.charAt(0)!=="."||R){var S;g&&!e?S=!P.match(p):S=P.match(p),S&&T.push(P)}}var j=T.length;if(j!==0){if(r.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var q=0;q<j;q++){var P=T[q];e&&(e.slice(-1)!=="/"?P=e+"/"+P:P=e+P),P.charAt(0)==="/"&&!this.nomount&&(P=Oo.join(this.root,P)),this._emitMatch(i,P)}return}r.shift();for(var q=0;q<j;q++){var P=T[q],M;e?M=[e,P]:M=[P],this._process(M.concat(r),i,a)}}}};ie.prototype._emitMatch=function(e,t){if(!cg(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(r==="DIR"||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};ie.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n,r;try{n=this.fs.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,!i&&n&&!n.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};ie.prototype._readdir=function(e,t){var n;if(t&&!No(this.symlinks,e))return this._readdirInGlobStar(e);if(No(this.cache,e)){var r=this.cache[e];if(!r||r==="FILE")return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};ie.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];e==="/"?r=e+r:r=e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t};ie.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};ie.prototype._processGlobStar=function(e,t,n,r,i,a){var l=this._readdir(n,a);if(!!l){var p=r.slice(1),g=e?[e]:[],b=g.concat(p);this._process(b,i,!1);var R=l.length,T=this.symlinks[n];if(!(T&&a))for(var q=0;q<R;q++){var P=l[q];if(!(P.charAt(0)==="."&&!this.dot)){var S=g.concat(l[q],p);this._process(S,i,!0);var j=g.concat(l[q],r);this._process(j,i,!0)}}}};ie.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!n){if(e&&vr(e)&&!this.nomount){var r=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Oo.join(this.root,e):(e=Oo.resolve(this.root,e),r&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};ie.prototype._stat=function(e){var t=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&No(this.cache,t)){var l=this.cache[t];if(Array.isArray(l)&&(l="DIR"),!n||l==="DIR")return l;if(n&&l==="FILE")return!1}var r,i=this.statCache[t];if(!i){var a;try{a=this.fs.lstatSync(t)}catch(p){if(p&&(p.code==="ENOENT"||p.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=a}else i=a}this.statCache[t]=i;var l=!0;return i&&(l=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||l,n&&l==="FILE"?!1:l};ie.prototype._mark=function(e){return Pt.mark(this,e)};ie.prototype._makeAbs=function(e){return Pt.makeAbs(this,e)}});var Mo=D((bp,Tc)=>{Tc.exports=Cc;function Cc(e,t){if(e&&t)return Cc(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(r){n[r]=e[r]}),n;function n(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var a=e.apply(this,r),l=r[r.length-1];return typeof a=="function"&&a!==l&&Object.keys(l).forEach(function(p){a[p]=l[p]}),a}}});var xo=D((Rp,Fo)=>{var Pc=Mo();Fo.exports=Pc(yr);Fo.exports.strict=Pc(Sc);yr.proto=yr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return yr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Sc(this)},configurable:!0})});function yr(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Sc(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}});var Dc=D((wp,Ec)=>{var ug=Mo(),qn=Object.create(null),lg=xo();Ec.exports=ug(fg);function fg(e,t){return qn[e]?(qn[e].push(t),null):(qn[e]=[t],dg(e))}function dg(e){return lg(function t(){var n=qn[e],r=n.length,i=hg(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,i)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,i)})):delete qn[e]}})}function hg(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}});var jo=D((Cp,Nc)=>{Nc.exports=St;var gg=bo(),Oc=gr(),qp=Oc.Minimatch,mg=gc(),pg=require("events").EventEmitter,Ao=require("path"),Lo=require("assert"),kn=pr(),Wo=kc(),Et=Do(),vg=Et.setopts,Io=Et.ownProp,Ho=Dc(),kp=require("util"),yg=Et.childrenIgnored,_g=Et.isIgnored,bg=xo();function St(e,t,n){if(typeof t=="function"&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return Wo(e,t)}return new U(e,t,n)}St.sync=Wo;var Rg=St.GlobSync=Wo.GlobSync;St.glob=St;function wg(e,t){if(t===null||typeof t!="object")return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}St.hasMagic=function(e,t){var n=wg({},t);n.noprocess=!0;var r=new U(e,n),i=r.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};St.Glob=U;mg(U,pg);function U(e,t,n){if(typeof t=="function"&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new Rg(e,t)}if(!(this instanceof U))return new U(e,t,n);vg(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),typeof n=="function"&&(n=bg(n),this.on("error",n),this.on("end",function(g){n(null,g)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(r===0)return p();for(var a=!0,l=0;l<r;l++)this._process(this.minimatch.set[l],l,!1,p);a=!1;function p(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}U.prototype._finish=function(){if(Lo(this instanceof U),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Et.finish(this),this.emit("end",this.found)}};U.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r);function r(){--e===0&&t._finish()}};U.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),i=this,a=r.length;if(a===0)return t();var l=this.matches[e]=Object.create(null);r.forEach(function(p,g){p=i._makeAbs(p),gg.realpath(p,i.realpathCache,function(b,R){b?b.syscall==="stat"?l[p]=!0:i.emit("error",b):l[R]=!0,--a===0&&(i.matches[e]=l,t())})})};U.prototype._mark=function(e){return Et.mark(this,e)};U.prototype._makeAbs=function(e){return Et.makeAbs(this,e)};U.prototype.abort=function(){this.aborted=!0,this.emit("abort")};U.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};U.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};U.prototype._process=function(e,t,n,r){if(Lo(this instanceof U),Lo(typeof r=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,n,r]);return}for(var i=0;typeof e[i]=="string";)i++;var a;switch(i){case e.length:this._processSimple(e.join("/"),t,r);return;case 0:a=null;break;default:a=e.slice(0,i).join("/");break}var l=e.slice(i),p;a===null?p=".":((kn(a)||kn(e.join("/")))&&(!a||!kn(a))&&(a="/"+a),p=a);var g=this._makeAbs(p);if(yg(this,p))return r();var b=l[0]===Oc.GLOBSTAR;b?this._processGlobStar(a,p,g,l,t,n,r):this._processReaddir(a,p,g,l,t,n,r)}};U.prototype._processReaddir=function(e,t,n,r,i,a,l){var p=this;this._readdir(n,a,function(g,b){return p._processReaddir2(e,t,n,r,i,a,b,l)})};U.prototype._processReaddir2=function(e,t,n,r,i,a,l,p){if(!l)return p();for(var g=r[0],b=!!this.minimatch.negate,R=g._glob,T=this.dot||R.charAt(0)===".",q=[],P=0;P<l.length;P++){var S=l[P];if(S.charAt(0)!=="."||T){var j;b&&!e?j=!S.match(g):j=S.match(g),j&&q.push(S)}}var M=q.length;if(M===0)return p();if(r.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var P=0;P<M;P++){var S=q[P];e&&(e!=="/"?S=e+"/"+S:S=e+S),S.charAt(0)==="/"&&!this.nomount&&(S=Ao.join(this.root,S)),this._emitMatch(i,S)}return p()}r.shift();for(var P=0;P<M;P++){var S=q[P],y;e&&(e!=="/"?S=e+"/"+S:S=e+S),this._process([S].concat(r),i,a,p)}p()};U.prototype._emitMatch=function(e,t){if(!this.aborted&&!_g(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var n=kn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if(r==="DIR"||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}};U.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var n="lstat\0"+e,r=this,i=Ho(n,a);i&&r.fs.lstat(e,i);function a(l,p){if(l&&l.code==="ENOENT")return t();var g=p&&p.isSymbolicLink();r.symlinks[e]=g,!g&&p&&!p.isDirectory()?(r.cache[e]="FILE",t()):r._readdir(e,!1,t)}};U.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=Ho("readdir\0"+e+"\0"+t,n),!!n)){if(t&&!Io(this.symlinks,e))return this._readdirInGlobStar(e,n);if(Io(this.cache,e)){var r=this.cache[e];if(!r||r==="FILE")return n();if(Array.isArray(r))return n(null,r)}var i=this;i.fs.readdir(e,qg(this,e,n))}};function qg(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}U.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}};U.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return n()}};U.prototype._processGlobStar=function(e,t,n,r,i,a,l){var p=this;this._readdir(n,a,function(g,b){p._processGlobStar2(e,t,n,r,i,a,b,l)})};U.prototype._processGlobStar2=function(e,t,n,r,i,a,l,p){if(!l)return p();var g=r.slice(1),b=e?[e]:[],R=b.concat(g);this._process(R,i,!1,p);var T=this.symlinks[n],q=l.length;if(T&&a)return p();for(var P=0;P<q;P++){var S=l[P];if(!(S.charAt(0)==="."&&!this.dot)){var j=b.concat(l[P],g);this._process(j,i,!0,p);var M=b.concat(l[P],r);this._process(M,i,!0,p)}}p()};U.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,a){r._processSimple2(e,t,i,a,n)})};U.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&kn(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Ao.join(this.root,e):(e=Ao.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};U.prototype._stat=function(e,t){var n=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Io(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||i==="DIR")return t(null,i);if(r&&i==="FILE")return t()}var a,l=this.statCache[n];if(l!==void 0){if(l===!1)return t(null,l);var p=l.isDirectory()?"DIR":"FILE";return r&&p==="FILE"?t():t(null,p,l)}var g=this,b=Ho("stat\0"+n,R);b&&g.fs.lstat(n,b);function R(T,q){if(q&&q.isSymbolicLink())return g.fs.stat(n,function(P,S){P?g._stat2(e,n,null,q,t):g._stat2(e,n,P,S,t)});g._stat2(e,n,T,q,t)}};U.prototype._stat2=function(e,t,n,r,i){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return this.statCache[t]=!1,i();var a=e.slice(-1)==="/";if(this.statCache[t]=r,t.slice(-1)==="/"&&r&&!r.isDirectory())return i(null,!1,r);var l=!0;return r&&(l=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||l,a&&l==="FILE"?i():i(null,l,r)}});var Wc=D((Tp,Ic)=>{var Q=require("assert"),xc=require("path"),jc=require("fs"),Yt;try{Yt=jo()}catch{}var kg={nosort:!0,silent:!0},$o=0,Cn=process.platform==="win32",Ac=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||jc[n],n=n+"Sync",e[n]=e[n]||jc[n]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&Yt===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||kg},Bo=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q.equal(typeof n,"function","rimraf: callback function required"),Q(t,"rimraf: invalid options argument provided"),Q.equal(typeof t,"object","rimraf: options should be object"),Ac(t);let r=0,i=null,a=0,l=g=>{i=i||g,--a===0&&n(i)},p=(g,b)=>{if(g)return n(g);if(a=b.length,a===0)return n();b.forEach(R=>{let T=q=>{if(q){if((q.code==="EBUSY"||q.code==="ENOTEMPTY"||q.code==="EPERM")&&r<t.maxBusyTries)return r++,setTimeout(()=>zo(R,t,T),r*100);if(q.code==="EMFILE"&&$o<t.emfileWait)return setTimeout(()=>zo(R,t,T),$o++);q.code==="ENOENT"&&(q=null)}$o=0,l(q)};zo(R,t,T)})};if(t.disableGlob||!Yt.hasMagic(e))return p(null,[e]);t.lstat(e,(g,b)=>{if(!g)return p(null,[e]);Yt(e,t.glob,p)})},zo=(e,t,n)=>{Q(e),Q(t),Q(typeof n=="function"),t.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return n(null);if(r&&r.code==="EPERM"&&Cn&&Mc(e,t,r,n),i&&i.isDirectory())return _r(e,t,r,n);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return n(null);if(a.code==="EPERM")return Cn?Mc(e,t,a,n):_r(e,t,a,n);if(a.code==="EISDIR")return _r(e,t,a,n)}return n(a)})})},Mc=(e,t,n,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:n):t.stat(e,(a,l)=>{a?r(a.code==="ENOENT"?null:n):l.isDirectory()?_r(e,t,n,r):t.unlink(e,r)})})},Fc=(e,t,n)=>{Q(e),Q(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw n}let r;try{r=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw n}r.isDirectory()?br(e,t,n):t.unlinkSync(e)},_r=(e,t,n,r)=>{Q(e),Q(t),Q(typeof r=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Cg(e,t,r):i&&i.code==="ENOTDIR"?r(n):r(i)})},Cg=(e,t,n)=>{Q(e),Q(t),Q(typeof n=="function"),t.readdir(e,(r,i)=>{if(r)return n(r);let a=i.length;if(a===0)return t.rmdir(e,n);let l;i.forEach(p=>{Bo(xc.join(e,p),t,g=>{if(!l){if(g)return n(l=g);--a===0&&t.rmdir(e,n)}})})})},Lc=(e,t)=>{t=t||{},Ac(t),Q(e,"rimraf: missing path"),Q.equal(typeof e,"string","rimraf: path should be a string"),Q(t,"rimraf: missing options"),Q.equal(typeof t,"object","rimraf: options should be object");let n;if(t.disableGlob||!Yt.hasMagic(e))n=[e];else try{t.lstatSync(e),n=[e]}catch{n=Yt.sync(e,t.glob)}if(!!n.length)for(let r=0;r<n.length;r++){let i=n[r],a;try{a=t.lstatSync(i)}catch(l){if(l.code==="ENOENT")return;l.code==="EPERM"&&Cn&&Fc(i,t,l)}try{a&&a.isDirectory()?br(i,t,null):t.unlinkSync(i)}catch(l){if(l.code==="ENOENT")return;if(l.code==="EPERM")return Cn?Fc(i,t,l):br(i,t,l);if(l.code!=="EISDIR")throw l;br(i,t,l)}}},br=(e,t,n)=>{Q(e),Q(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="ENOTDIR")throw n;(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")&&Tg(e,t)}},Tg=(e,t)=>{Q(e),Q(t),t.readdirSync(e).forEach(i=>Lc(xc.join(e,i),t));let n=Cn?100:1,r=0;do{let i=!0;try{let a=t.rmdirSync(e,t);return i=!1,a}finally{if(++r<n&&i)continue}}while(!0)};Ic.exports=Bo;Bo.sync=Lc});var iu=D((Pp,Ke)=>{var fe=require("fs"),Qo=require("os"),Ce=require("path"),Hc=require("crypto"),Be={fs:fe.constants,os:Qo.constants},Bc=Wc(),$c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Gc=/XXXXXX/,Pg=3,Jc=(Be.O_CREAT||Be.fs.O_CREAT)|(Be.O_EXCL||Be.fs.O_EXCL)|(Be.O_RDWR||Be.fs.O_RDWR),Sg=Qo.platform()==="win32",Eg=Be.EBADF||Be.os.errno.EBADF,Dg=Be.ENOENT||Be.os.errno.ENOENT,Uc=448,Xc=384,Og="exit",Zt=[],Qc=fe.rmdirSync.bind(fe),Yc=Bc.sync,Zc=!1;function Yo(e,t){let n=Kt(e,t),r=n[0],i=n[1];try{tu(r)}catch(l){return i(l)}let a=r.tries;(function l(){try{let p=eu(r);fe.stat(p,function(g){if(!g)return a-- >0?l():i(new Error("Could not get a unique tmp filename, max tries reached "+p));i(null,p)})}catch(p){i(p)}})()}function Zo(e){let t=Kt(e),n=t[0];tu(n);let r=n.tries;do{let i=eu(n);try{fe.statSync(i)}catch{return i}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function Ng(e,t){let n=Kt(e,t),r=n[0],i=n[1];Yo(r,function(l,p){if(l)return i(l);fe.open(p,Jc,r.mode||Xc,function(b,R){if(b)return i(b);if(r.discardDescriptor)return fe.close(R,function(q){return i(q,p,void 0,Jo(p,-1,r,!1))});{let T=r.discardDescriptor||r.detachDescriptor;i(null,p,R,Jo(p,T?-1:R,r,!1))}})})}function jg(e){let t=Kt(e),n=t[0],r=n.discardDescriptor||n.detachDescriptor,i=Zo(n);var a=fe.openSync(i,Jc,n.mode||Xc);return n.discardDescriptor&&(fe.closeSync(a),a=void 0),{name:i,fd:a,removeCallback:Jo(i,r?-1:a,n,!0)}}function Mg(e,t){let n=Kt(e,t),r=n[0],i=n[1];Yo(r,function(l,p){if(l)return i(l);fe.mkdir(p,r.mode||Uc,function(b){if(b)return i(b);i(null,p,Kc(p,r,!1))})})}function Fg(e){let t=Kt(e),n=t[0],r=Zo(n);return fe.mkdirSync(r,n.mode||Uc),{name:r,removeCallback:Kc(r,n,!0)}}function xg(e,t){let n=function(r){if(r&&!Xo(r))return t(r);t()};0<=e[0]?fe.close(e[0],function(){fe.unlink(e[1],n)}):fe.unlink(e[1],n)}function Ag(e){let t=null;try{0<=e[0]&&fe.closeSync(e[0])}catch(n){if(!Ig(n)&&!Xo(n))throw n}finally{try{fe.unlinkSync(e[1])}catch(n){Xo(n)||(t=n)}}if(t!==null)throw t}function Jo(e,t,n,r){let i=Rr(Ag,[t,e],r),a=Rr(xg,[t,e],r,i);return n.keep||Zt.unshift(i),r?i:a}function Kc(e,t,n){let r=t.unsafeCleanup?Bc:fe.rmdir.bind(fe),i=t.unsafeCleanup?Yc:Qc,a=Rr(i,e,n),l=Rr(r,e,n,a);return t.keep||Zt.unshift(a),n?a:l}function Rr(e,t,n,r){let i=!1;return function a(l){if(!i){let p=r||a,g=Zt.indexOf(p);return g>=0&&Zt.splice(g,1),i=!0,n||e===Qc||e===Yc?e(t):e(t,l||function(){})}}}function Lg(){if(!!Zc)for(;Zt.length;)try{Zt[0]()}catch{}}function zc(e){let t=[],n=null;try{n=Hc.randomBytes(e)}catch{n=Hc.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push($c[n[r]%$c.length]);return t.join("")}function Vc(e){return e===null||Re(e)||!e.trim()}function Re(e){return typeof e>"u"}function Kt(e,t){if(typeof e=="function")return[{},e];if(Re(e))return[{},t];let n={};for(let r of Object.getOwnPropertyNames(e))n[r]=e[r];return[n,t]}function eu(e){let t=e.tmpdir;if(!Re(e.name))return Ce.join(t,e.dir,e.name);if(!Re(e.template))return Ce.join(t,e.dir,e.template).replace(Gc,zc(6));let n=[e.prefix?e.prefix:"tmp","-",process.pid,"-",zc(12),e.postfix?"-"+e.postfix:""].join("");return Ce.join(t,e.dir,n)}function tu(e){e.tmpdir=ru(e);let t=e.tmpdir;if(Re(e.name)||Go(e.name,"name",t),Re(e.dir)||Go(e.dir,"dir",t),!Re(e.template)&&(Go(e.template,"template",t),!e.template.match(Gc)))throw new Error(`Invalid template, found "${e.template}".`);if(!Re(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=Re(e.name)?e.tries||Pg:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=Re(e.dir)?"":Ce.relative(t,Uo(e.dir,t)),e.template=Re(e.template)?void 0:Ce.relative(t,Uo(e.template,t)),e.template=Vc(e.template)?void 0:Ce.relative(e.dir,e.template),e.name=Re(e.name)?void 0:Ko(e.name),e.prefix=Re(e.prefix)?"":e.prefix,e.postfix=Re(e.postfix)?"":e.postfix}function Uo(e,t){let n=Ko(e);return n.startsWith(t)?Ce.resolve(n):Ce.resolve(Ce.join(t,n))}function Ko(e){return Vc(e)?e:e.replace(/["']/g,"")}function Go(e,t,n){if(t==="name"){if(Ce.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let r=Ce.basename(e);if(r===".."||r==="."||r!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(Ce.isAbsolute(e)&&!e.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${e}".`);let r=Uo(e,n);if(!r.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${r}".`)}}function Ig(e){return nu(e,-Eg,"EBADF")}function Xo(e){return nu(e,-Dg,"ENOENT")}function nu(e,t,n){return Sg?e.code===n:e.code===n&&e.errno===t}function Wg(){Zc=!0}function ru(e){return Ce.resolve(Ko(e&&e.tmpdir||Qo.tmpdir()))}process.addListener(Og,Lg);Object.defineProperty(Ke.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return ru()}});Ke.exports.dir=Mg;Ke.exports.dirSync=Fg;Ke.exports.file=Ng;Ke.exports.fileSync=jg;Ke.exports.tmpName=Yo;Ke.exports.tmpNameSync=Zo;Ke.exports.setGracefulCleanup=Wg});var Ge=xr(La()),su=xr(Wa()),Vo=xr(be()),cu=require("node:util"),Oe=(0,Ge.createConnection)(Ge.ProposedFeatures.all),qr=new Ge.TextDocuments(su.TextDocument),Tn=!1,es=!1,au=!1,Hg=require("fs"),$g=iu(),Op=require("path"),zg=require("node:util"),Bg=zg.promisify(require("node:child_process").exec),ou=$g.fileSync();Oe.onInitialize(e=>{let t=e.capabilities;Tn=!!(t.workspace&&!!t.workspace.configuration),es=!!(t.workspace&&!!t.workspace.workspaceFolders),au=!!(t.textDocument&&t.textDocument.publishDiagnostics&&t.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Ge.TextDocumentSyncKind.Incremental}};return es&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),console.log("LPython language server initialized"),n});Oe.onInitialized(()=>{Tn&&Oe.client.register(Ge.DidChangeConfigurationNotification.type,void 0),es&&Oe.workspace.onDidChangeWorkspaceFolders(e=>{Oe.console.log("Workspace folder change event received.")})});var uu={maxNumberOfProblems:1e3,compiler:{executablePath:"/home/ankita/Documents/Internships/GSI/lpython/src/bin/lpython"}},lu=uu,wr=new Map;Oe.onDidChangeConfiguration(e=>{console.log("onDidChangeConfiguration, hasConfigurationCapability: "+Tn),console.log("change is "+JSON.stringify(e)),Tn?wr.clear():lu=e.settings.LPythonLanguageServer||uu,qr.all().forEach(fu)});function Gg(e){if(!Tn)return Promise.resolve(lu);let t=wr.get(e);return t||(t=Oe.workspace.getConfiguration({scopeUri:e,section:"LPythonLanguageServer"}),wr.set(e,t)),t}qr.onDidClose(e=>{wr.delete(e.document.uri)});function Jg(e,t){let n=!1,r,i=()=>{r==null?n=!1:(e(...r),r=null,setTimeout(i,t))};return(...a)=>{if(n){r=a;return}e(...a),n=!0,setTimeout(i,t)}}qr.onDidChangeContent((()=>{let e=Jg(fu,500);return t=>{e(t.document)}})());async function Ug(e,t,n){try{Hg.writeFileSync(ou.name,e)}catch(i){console.log(i)}let r;try{r=(await Bg(`/home/ankita/Documents/Internships/GSI/lpython/src/bin/lpython --show-errors ${ou.name}`)).stdout}catch(i){r=i.stdout,i.signal!=null?(console.log("compile failed: "),console.log(i)):console.log("Error:",i)}return r}function Xg(e){let t=new cu.TextEncoder().encode(e),n=[];for(let r=0;r<t.length;++r)t[r]==10&&n.push(r);return n}async function fu(e){if(console.time("validateTextDocument"),!au){console.error("Trying to validate a document with no diagnostic capability");return}let t=await Gg(e.uri),n=e.getText(),r=Xg(n),i=await Ug(n,"--show-errors"+e.uri,t),a=JSON.parse(i),l=[];if(a.diagnostics){let p={severity:2,range:{start:Vo.Position.create(a.diagnostics[0].range.start.line,a.diagnostics[0].range.start.character),end:Vo.Position.create(a.diagnostics[0].range.end.line,a.diagnostics[0].range.end.character)},message:a.diagnostics[0].message,source:"lpyth"};l.push(p)}console.log(l),Oe.sendDiagnostics({uri:e.uri,diagnostics:l}),console.timeEnd("validateTextDocument")}Oe.onDidChangeWatchedFiles(e=>{Oe.console.log("We received an file change event")});qr.listen(Oe);Oe.listen();
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
//# sourceMappingURL=server.js.map
